<!DOCTYPE html>
<html lang="zh" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>我的Doom Emacs配置 | 思泉笔谈 | AI-Life</title>
<meta name="keywords" content="emacs">
<meta name="description" content="config.el
;;; $DOOMDIR/config.el -*- lexical-binding: t; -*-

;; Place your private configuration here! Remember, you do not need to run &#39;doom
;; sync&#39; after modifying this file!


;; Some functionality uses this to identify you, e.g. GPG configuration, email
;; clients, file templates and snippets.
(setq user-full-name &#34;Siquan&#34;
      user-mail-address &#34;xx@xx.com&#34;)

;; Doom exposes five (optional) variables for controlling fonts in Doom. Here
;; are the three important ones:
;;
;; &#43; `doom-font&#39;
;; &#43; `doom-variable-pitch-font&#39;
;; &#43; `doom-big-font&#39; -- used for `doom-big-font-mode&#39;; use this for
;;   presentations or streaming.
;;
;; They all accept either a font-spec, font string (&#34;Input Mono-12&#34;), or xlfd
;; font string. You generally only need these two:
;;(setq doom-font (font-spec :family &#34;monaco&#34; :size 14 :weight &#39;semi-light)
;;       doom-variable-pitch-font (font-spec :family &#34;sans&#34; :size 13))

;; There are two ways to load a theme. Both assume the theme is installed and
;; available. You can either set `doom-theme&#39; or manually load a theme with the
;; `load-theme&#39; function. This is the default:
(setq doom-theme &#39;doom-monokai-pro)

;; If you use `org&#39; and don&#39;t want your org files in the default location below,
;; change `org-directory&#39;. It must be set before org loads!
(setq org-directory &#34;~/work/emacs-org/&#34;)

;; This determines the style of line numbers in effect. If set to `nil&#39;, line
;; numbers are disabled. For relative line numbers, set this to `relative&#39;.
(setq display-line-numbers-type t)


;; Here are some additional functions/macros that could help you configure Doom:
;;
;; - `load!&#39; for loading external *.el files relative to this one
;; - `use-package!&#39; for configuring packages
;; - `after!&#39; for running code after a package has loaded
;; - `add-load-path!&#39; for adding directories to the `load-path&#39;, relative to
;;   this file. Emacs searches the `load-path&#39; when you load packages with
;;   `require&#39; or `use-package&#39;.
;; - `map!&#39; for binding new keys
;;
;; To get information about any of these functions/macros, move the cursor over
;; the highlighted symbol at press &#39;K&#39; (non-evil users must press &#39;C-c c k&#39;).
;; This will open documentation for it, including demos of how they are used.
;;
;; You can also try &#39;gd&#39; (or &#39;C-c c d&#39;) to jump to their definition and see how
;; they are implemented.



(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won&#39;t work right.
 &#39;(default ((t (:family &#34;Monaco&#34; :foundry &#34;nil&#34; :slant normal :weight normal :height 150 :width normal))))
 &#39;(rainbow-delimiters-depth-1-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;light green&#34;))))
 &#39;(rainbow-delimiters-depth-2-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;goldenrod2&#34;))))
 &#39;(rainbow-delimiters-depth-3-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark magenta&#34;))))
 &#39;(rainbow-delimiters-depth-4-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark cyan&#34;))))
 &#39;(rainbow-delimiters-depth-5-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark blue&#34;))))
 &#39;(rainbow-delimiters-depth-6-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;PaleVioletRed2&#34;))))
 &#39;(rainbow-delimiters-depth-7-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;SpringGreen4&#34;))))
 &#39;(rainbow-delimiters-depth-8-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;chocolate3&#34;))))
 &#39;(rainbow-delimiters-depth-9-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;blue&#34;)))))





(setq auto-save-default t)
(run-with-idle-timer 5 t #&#39;save-some-buffers t)
(setq make-backup-files t)
(setq confirm-kill-emacs nil)
(set-frame-position (selected-frame) 0 0)
(add-to-list &#39;default-frame-alist &#39;(fullscreen . maximized))
(setq initial-frame-alist &#39;((top . 1) (left . 1) (width . 114) (height . 32)))

;;org-mode
(setq org-superstar-headline-bullets-list &#39;(&#34;✿&#34; &#34;✸&#34; &#34;◉&#34; &#34;⁖&#34; &#34;○&#34; ))
;;(setq org-todo-keywords &#39;((sequence &#34;TODO(t)&#34; &#34;STARTED(s!)&#34; &#34;WAITING(w@/!)&#34; &#34;|&#34; &#34;DONE(d@/!)&#34; &#34;CANCELLED(c@/!)&#34;)))
(setf org-todo-keyword-faces &#39;((&#34;TODO&#34; . (:foreground &#34;white&#34; :background &#34;#95A5A6&#34;))(&#34;STRT&#34;. (:foreground &#34;white&#34; :background &#34;#2E8B57&#34;))(&#34;DONE&#34; . (:foreground &#34;white&#34; :background &#34;#3498DB&#34;))))
(setq org-log-done &#39;time)
(setq org-cycle-include-plain-lists t)
(setq org-export-coding-system &#39;utf-8)
(setq org-src-fontify-natively t)
(setq org-html-doctype &#34;html5&#34;)
(setq org-html-xml-declaration nil)
(setq org-html-head &#34;&lt;link rel=&#39;stylesheet&#39; href=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css&#39; integrity=&#39;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn&#39; crossorigin=&#39;anonymous&#39;&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js&#39; integrity=&#39;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C&#43;OGpamoFVy38MVBnE&#43;IbbVYUew&#43;OrCXaRkfj&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js&#39; integrity=&#39;sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp&#43;tA7hAShOK/B/fQ2&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;&#34;)
(org-babel-do-load-languages
 &#39;org-babel-load-languages
 &#39;((emacs-lisp . t)
   (c . t)
   (java . t)
   (go . t)
   (racket . t)
   (python . t)
   (latex . t)
   (shell . t)
   (js . t)
   (lisp . t)
   (scheme . t)))
(setq-default prettify-symbols-alist &#39;((&#34;#&#43;BEGIN_SRC&#34; . &#34;†&#34;)(&#34;#&#43;END_SRC&#34; . &#34;†&#34;)(&#34;#&#43;begin_src&#34; . &#34;†&#34;) (&#34;#&#43;end_src&#34; . &#34;†&#34;) (&#34;&gt;=&#34; . &#34;≥&#34;)(&#34;=&gt;&#34; . &#34;⇨&#34;)))
(setq prettify-symbols-unprettify-at-point &#39;right-edge)
(add-hook &#39;org-mode-hook &#39;prettify-symbols-mode)
(setq org-adapt-indentation nil)

:
;;auto-wrap
(global-visual-line-mode 1)  ;1 for on, 0 for off.



;;racket
(require &#39;racket-mode)
(setq racket-program &#34;/Applications/Racket v8.4/bin/racket&#34;)
(setq tab-always-indent &#39;complete) ;; 使用tab自动补全
(add-to-list &#39;auto-mode-alist &#39;(&#34;\\.rkt\\&#39;&#34; . racket-mode))
(add-to-list &#39;magic-mode-alist &#39;(&#34;^#lang racket&#34; . :racket-mode))

;;golang
(setq lsp-gopls-staticcheck t)
(setq lsp-eldoc-render-all t)
(setq lsp-gopls-complete-unimported t)
(setq lsp-gopls-codelens nil)

;; Set up before-save hooks to format buffer and add/delete imports.
;; Make sure you don&#39;t have other gofmt/goimports hooks enabled.
(defun lsp-go-install-save-hooks ()
  (add-hook &#39;before-save-hook #&#39;lsp-format-buffer t t)
  (add-hook &#39;before-save-hook #&#39;lsp-organize-imports t t))
(add-hook &#39;go-mode-hook #&#39;lsp-go-install-save-hooks)


;; Company mode is a standard completion package that works well with lsp-mode.
(use-package company
  :ensure t
  :config
  ;; Optionally enable completion-as-you-type behavior.
  (setq company-idle-delay 0)
  (setq company-minimum-prefix-length 1))

;; Optional - provides snippet support.
(use-package yasnippet
  :ensure t
  :commands yas-minor-mode
  :hook (go-mode . yas-minor-mode))

;; language evniroment
(set-language-environment &#39;UTF-8)
(set-locale-environment &#34;UTF-8&#34;)
(define-coding-system-alias &#39;UTF-8 &#39;utf-8)



;; elfeed
(setq elfeed-db-directory &#34;~/work/emacs-org/elfeed&#34;)
(setq rmh-elfeed-org-files (list &#34;~/work/emacs-org/elfeed/elfeed.org&#34;))
(add-hook! &#39;elfeed-search-mode-hook #&#39;elfeed-update)
;;(add-hook &#39;elfeed-new-entry-hook
;;          (elfeed-make-tagger :before &#34;2 weeks ago&#34;
;;                              :remove &#39;unread))

;; lsp
(use-package lsp-mode
  :ensure t
  :commands (lsp lsp-deferred)
  :hook (go-mode . lsp-deferred)
  :custom
  ;; what to use when checking on-save. &#34;check&#34; is default, I prefer clippy
  (lsp-rust-analyzer-cargo-watch-command &#34;clippy&#34;)
  (lsp-eldoc-render-all t)
  (lsp-idle-delay 0.6)
  ;; enable / disable the hints as you prefer:
  (lsp-inlay-hint-enable t)
  ;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list
  (lsp-rust-analyzer-display-lifetime-elision-hints-enable &#34;skip_trivial&#34;)
  (lsp-rust-analyzer-display-chaining-hints t)
  (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names nil)
  (lsp-rust-analyzer-display-closure-return-type-hints t)
  (lsp-rust-analyzer-display-parameter-hints nil)
  (lsp-rust-analyzer-display-reborrow-hints nil)
  :config
  (add-hook &#39;lsp-mode-hook &#39;lsp-ui-mode))

;; Optional - provides fancier overlays.
(use-package lsp-ui
  :ensure
  :commands lsp-ui-mode
  :custom
  (lsp-ui-peek-always-show t)
  (lsp-ui-sideline-show-hover t)
  (lsp-ui-doc-enable nil))

(use-package flycheck :ensure)


;;rust
;;refer: https://robert.kra.hn/posts/rust-emacs-setup/
(use-package rustic
  :ensure
  :bind (:map rustic-mode-map
              (&#34;M-j&#34; . lsp-ui-imenu)
              (&#34;M-?&#34; . lsp-find-references)
              (&#34;C-c C-c l&#34; . flycheck-list-errors)
              (&#34;C-c C-c a&#34; . lsp-execute-code-action)
              (&#34;C-c C-c r&#34; . lsp-rename)
              (&#34;C-c C-c q&#34; . lsp-workspace-restart)
              (&#34;C-c C-c Q&#34; . lsp-workspace-shutdown)
              (&#34;C-c C-c s&#34; . lsp-rust-analyzer-status))
  :config
  ;; uncomment for less flashiness
  ;; (setq lsp-eldoc-hook nil)
  ;; (setq lsp-enable-symbol-highlighting nil)
  ;; (setq lsp-signature-auto-activate nil)

  ;; comment to disable rustfmt on save
  (setq rustic-format-on-save t)
  (add-hook &#39;rustic-mode-hook &#39;rk/rustic-mode-hook))

(defun rk/rustic-mode-hook ()
  ;; so that run C-c C-c C-r works without having to confirm, but don&#39;t try to
  ;; save rust buffers that are not file visiting. Once
  ;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should
  ;; no longer be necessary.
  (when buffer-file-name
    (setq-local buffer-save-without-query t))
  (add-hook &#39;before-save-hook &#39;lsp-format-buffer nil t))
init.el
;;; init.el -*- lexical-binding: t; -*-

;; This file controls what Doom modules are enabled and what order they load
;; in. Remember to run &#39;doom sync&#39; after modifying it!

;; NOTE Press &#39;SPC h d h&#39; (or &#39;C-h d h&#39; for non-vim users) to access Doom&#39;s
;;      documentation. There you&#39;ll find a &#34;Module Index&#34; link where you&#39;ll find
;;      a comprehensive list of Doom&#39;s modules and what flags they support.

;; NOTE Move your cursor over a module&#39;s name (or its flags) and press &#39;K&#39; (or
;;      &#39;C-c c k&#39; for non-vim users) to view its documentation. This works on
;;      flags as well (those symbols that start with a plus).
;;
;;      Alternatively, press &#39;gd&#39; (or &#39;C-c c d&#39;) on a module to browse its
;;      directory (for easy access to its source code).

;;; 添加中国源
;;(setq package-archives &#39;((&#34;gnu&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/gnu/&#34;)
;;                         (&#34;melpa&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa/&#34;)
;;                         (&#34;melpa-stable&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa-stable/&#34;)
;;                         (&#34;org&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/org/&#34;)))


(doom! :input
       ;; chinese
       ;;japanese
       ;;layout            ; auie,ctsrnm is the superior home row

       :completion
       company           ; the ultimate code completion backend
       ;;helm              ; the *other* search engine for love and life
       ;;ido               ; the other *other* search engine...
       ivy               ; a search engine for love and life
       vertico           ; the search engine of the future

       :ui
       ;;deft              ; notational velocity for Emacs
       doom              ; what makes DOOM look the way it does
       doom-dashboard    ; a nifty splash screen for Emacs
       doom-quit         ; DOOM quit-message prompts when you quit Emacs
       ;;(emoji &#43;unicode)  ; 🙂
       hl-todo           ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW
       ;;hydra
       ;;indent-guides     ; highlighted indent columns
       ;;ligatures         ; ligatures and symbols to make your code pretty again
       ;;minimap           ; show a map of the code on the side
       modeline          ; snazzy, Atom-inspired modeline, plus API
       ;;nav-flash         ; blink cursor line after big motions
       ;;neotree           ; a project drawer, like NERDTree for vim
       ophints           ; highlight the region an operation acts on
       (popup &#43;defaults)   ; tame sudden yet inevitable temporary windows
       ;;tabs              ; a tab bar for Emacs
       treemacs          ; a project drawer, like neotree but cooler
       ;;unicode           ; extended unicode support for various languages
       vc-gutter         ; vcs diff in the fringe
       vi-tilde-fringe   ; fringe tildes to mark beyond EOB
       ;;window-select     ; visually switch windows
       workspaces        ; tab emulation, persistence &amp; separate workspaces
       ;;zen               ; distraction-free coding or writing

       :editor
       (evil &#43;everywhere); come to the dark side, we have cookies
       file-templates    ; auto-snippets for empty files
       fold              ; (nigh) universal code folding
       (format &#43;onsave)  ; automated prettiness
       ;;god               ; run Emacs commands without modifier keys
       ;;lispy             ; vim for lisp, for people who don&#39;t like vim
       ;;multiple-cursors  ; editing in many places at once
       ;;objed             ; text object editing for the innocent
       ;;parinfer          ; turn lisp into python, sort of
       ;;rotate-text       ; cycle region at point between text candidates
       snippets          ; my elves. They type so I don&#39;t have to
       word-wrap         ; soft wrapping with language-aware indent

       :emacs
       dired             ; making dired pretty [functional]
       electric          ; smarter, keyword-based electric-indent
       ;;ibuffer         ; interactive buffer management
       undo              ; persistent, smarter undo for your inevitable mistakes
       vc                ; version-control and Emacs, sitting in a tree

       :term
       eshell            ; the elisp shell that works everywhere
       shell             ; simple shell REPL for Emacs
       ;;term              ; basic terminal emulator for Emacs
       vterm             ; the best terminal emulation in Emacs

       :checkers
       syntax              ; tasing you for every semicolon you forget
       ;;(spell &#43;flyspell) ; tasing you for misspelling mispelling
       ;;grammar           ; tasing grammar mistake every you make

       :tools
       ;;ansible
       ;;biblio            ; Writes a PhD for you (citation needed)
       ;;debugger          ; FIXME stepping through code, to help you add bugs
       ;;direnv
       ;;docker
       ;;editorconfig      ; let someone else argue about tabs vs spaces
       ;;ein               ; tame Jupyter notebooks with emacs
       (eval &#43;overlay)     ; run code, run (also, repls)
       ;;gist              ; interacting with github gists
       lookup              ; navigate your code and its documentation
       lsp               ; M-x vscode
       magit             ; a git porcelain for Emacs
       ;;make              ; run make tasks from Emacs
       ;;pass              ; password manager for nerds
       ;;pdf               ; pdf enhancements
       ;;prodigy           ; FIXME managing external services &amp; code builders
       ;;rgb               ; creating color strings
       ;;taskrunner        ; taskrunner for all your projects
       ;;terraform         ; infrastructure as code
       ;;tmux              ; an API for interacting with tmux
       ;;upload            ; map local to remote projects via ssh/ftp

       :os
       (:if IS-MAC macos)  ; improve compatibility with macOS
       tty               ; improve the terminal Emacs experience

       :lang
       ;;agda              ; types of types of types of types...
       ;;beancount         ; mind the GAAP
       ;;cc                ; C &gt; C&#43;&#43; == 1
       ;;clojure           ; java with a lisp
       ;;common-lisp       ; if you&#39;ve seen one lisp, you&#39;ve seen them all
       ;;coq               ; proofs-as-programs
       ;;crystal           ; ruby at the speed of c
       ;;csharp            ; unity, .NET, and mono shenanigans
       ;;data              ; config/data formats
       ;;(dart &#43;flutter)   ; paint ui and not much else
       ;;dhall
       ;;elixir            ; erlang done right
       ;;elm               ; care for a cup of TEA?
       emacs-lisp        ; drown in parentheses
       ;;erlang            ; an elegant language for a more civilized age
       ;;ess               ; emacs speaks statistics
       ;;factor
       ;;faust             ; dsp, but you get to keep your soul
       ;;fortran           ; in FORTRAN, GOD is REAL (unless declared INTEGER)
       ;;fsharp            ; ML stands for Microsoft&#39;s Language
       ;;fstar             ; (dependent) types and (monadic) effects and Z3
       ;;gdscript          ; the language you waited for
       (go &#43;lsp)         ; the hipster dialect
       ;;(haskell &#43;lsp)    ; a language that&#39;s lazier than I am
       ;;hy                ; readability of scheme w/ speed of python
       ;;idris             ; a language you can depend on
       json              ; At least it ain&#39;t XML
       ;;(java &#43;meghanada) ; the poster child for carpal tunnel syndrome
       (java &#43;lsp)
       javascript        ; all(hope(abandon(ye(who(enter(here))))))
       ;;julia             ; a better, faster MATLAB
       ;;kotlin            ; a better, slicker Java(Script)
       ;;latex             ; writing papers in Emacs has never been so fun
       ;;lean              ; for folks with too much to prove
       ;;ledger            ; be audit you can be
       ;;lua               ; one-based indices? one-based indices
       markdown          ; writing docs for people to ignore
       ;;nim               ; python &#43; lisp at the speed of c
       ;;nix               ; I hereby declare &#34;nix geht mehr!&#34;
       ;;ocaml             ; an objective camel
       (org &#43;pretty)               ; organize your plain life in plain text
       ;;php               ; perl&#39;s insecure younger brother
       ;;plantuml          ; diagrams for confusing people more
       ;;purescript        ; javascript, but functional
       python            ; beautiful is better than ugly
       ;;qt                ; the &#39;cutest&#39; gui framework ever
       racket            ; a DSL for DSLs
       ;;raku              ; the artist formerly known as perl6
       ;;rest              ; Emacs as a REST client
       ;;rst               ; ReST in peace
       ;;(ruby &#43;rails)     ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;}
       ;;rust              ; Fe2O3.unwrap().unwrap().unwrap().unwrap()
       ;;scala             ; java, but good
       ;;(scheme &#43;guile)   ; a fully conniving family of lisps
       sh                ; she sells {ba,z,fi}sh shells on the C xor
       ;;sml
       ;;solidity          ; do you need a blockchain? No.
       ;;swift             ; who asked for emoji variables?
       ;;terra             ; Earth and Moon in alignment for performance.
       ;;web               ; the tubes
       yaml              ; JSON, but readable
       ;;zig               ; C, but simpler

       :email
       ;;(mu4e &#43;org &#43;gmail)
       ;;notmuch
       ;;(wanderlust &#43;gmail)

       :app
       ;;calendar
       ;;emms
       ;;everywhere        ; *leave* Emacs!? You must be joking
       ;;irc               ; how neckbeards socialize
       (rss &#43;org)        ; emacs as an RSS reader
       ;;twitter           ; twitter client https://twitter.com/vnought

       :config
       ;;literate
       (default &#43;bindings &#43;smartparens))
packages.el
;; -*- no-byte-compile: t; -*-
;;; $DOOMDIR/packages.el

;; To install a package with Doom you must declare them here and run &#39;doom sync&#39;
;; on the command line, then restart Emacs for the changes to take effect -- or
;; use &#39;M-x doom/reload&#39;.


;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror:
;(package! some-package)

;; To install a package directly from a remote git repo, you must specify a
;; `:recipe&#39;. You&#39;ll find documentation on what `:recipe&#39; accepts here:
;; https://github.com/raxod502/straight.el#the-recipe-format
;(package! another-package
;  :recipe (:host github :repo &#34;username/repo&#34;))

;; If the package you are trying to install does not contain a PACKAGENAME.el
;; file, or is located in a subdirectory of the repo, you&#39;ll need to specify
;; `:files&#39; in the `:recipe&#39;:
;(package! this-package
;  :recipe (:host github :repo &#34;username/repo&#34;
;           :files (&#34;some-file.el&#34; &#34;src/lisp/*.el&#34;)))

;; If you&#39;d like to disable a package included with Doom, you can do so here
;; with the `:disable&#39; property:
;(package! builtin-package :disable t)

;; You can override the recipe of a built in package without having to specify
;; all the properties for `:recipe&#39;. These will inherit the rest of its recipe
;; from Doom or MELPA/ELPA/Emacsmirror:
;(package! builtin-package :recipe (:nonrecursive t))
;(package! builtin-package-2 :recipe (:repo &#34;myfork/package&#34;))

;; Specify a `:branch&#39; to install a package from a particular branch or tag.
;; This is required for some packages whose default branch isn&#39;t &#39;master&#39; (which
;; our package manager can&#39;t deal with; see raxod502/straight.el#279)
;(package! builtin-package :recipe (:branch &#34;develop&#34;))

;; Use `:pin&#39; to specify a particular commit to install.
;(package! builtin-package :pin &#34;1a2b3c4d5e&#34;)


;; Doom&#39;s packages are pinned to a specific commit and updated from release to
;; release. The `unpin!&#39; macro allows you to unpin single packages...
;(unpin! pinned-package)
;; ...or multiple packages
;(unpin! pinned-package another-pinned-package)
;; ...Or *all* packages (NOT RECOMMENDED; will likely break things)
;(unpin! t)

(package! racket-mode)

(package! spacemacs-theme)
elfeed.org
* root :elfeed:
** Programming :programming:
*** https://www.reddit.com/r/functionalprogramming/.rss :Reddit:

** News :news:
*** https://news.ycombinator.com/rss :Hack News:
">
<meta name="author" content="">
<link rel="canonical" href="https://continuation.cn/2022/02/my-doom-emacs-config/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8fe10233a706bc87f2e08b3cf97b8bd4c0a80f10675a143675d59212121037c0.css" integrity="sha256-j&#43;ECM6cGvIfy4Is8&#43;XuL1MCoDxBnWhQ2ddWSEhIQN8A=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://continuation.cn/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://continuation.cn/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://continuation.cn/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://continuation.cn/apple-touch-icon.png">
<link rel="mask-icon" href="https://continuation.cn/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="zh" href="https://continuation.cn/2022/02/my-doom-emacs-config/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><meta property="og:url" content="https://continuation.cn/2022/02/my-doom-emacs-config/">
  <meta property="og:site_name" content="思泉笔谈 | AI-Life">
  <meta property="og:title" content="我的Doom Emacs配置">
  <meta property="og:description" content="config.el ;;; $DOOMDIR/config.el -*- lexical-binding: t; -*- ;; Place your private configuration here! Remember, you do not need to run &#39;doom ;; sync&#39; after modifying this file! ;; Some functionality uses this to identify you, e.g. GPG configuration, email ;; clients, file templates and snippets. (setq user-full-name &#34;Siquan&#34; user-mail-address &#34;xx@xx.com&#34;) ;; Doom exposes five (optional) variables for controlling fonts in Doom. Here ;; are the three important ones: ;; ;; &#43; `doom-font&#39; ;; &#43; `doom-variable-pitch-font&#39; ;; &#43; `doom-big-font&#39; -- used for `doom-big-font-mode&#39;; use this for ;; presentations or streaming. ;; ;; They all accept either a font-spec, font string (&#34;Input Mono-12&#34;), or xlfd ;; font string. You generally only need these two: ;;(setq doom-font (font-spec :family &#34;monaco&#34; :size 14 :weight &#39;semi-light) ;; doom-variable-pitch-font (font-spec :family &#34;sans&#34; :size 13)) ;; There are two ways to load a theme. Both assume the theme is installed and ;; available. You can either set `doom-theme&#39; or manually load a theme with the ;; `load-theme&#39; function. This is the default: (setq doom-theme &#39;doom-monokai-pro) ;; If you use `org&#39; and don&#39;t want your org files in the default location below, ;; change `org-directory&#39;. It must be set before org loads! (setq org-directory &#34;~/work/emacs-org/&#34;) ;; This determines the style of line numbers in effect. If set to `nil&#39;, line ;; numbers are disabled. For relative line numbers, set this to `relative&#39;. (setq display-line-numbers-type t) ;; Here are some additional functions/macros that could help you configure Doom: ;; ;; - `load!&#39; for loading external *.el files relative to this one ;; - `use-package!&#39; for configuring packages ;; - `after!&#39; for running code after a package has loaded ;; - `add-load-path!&#39; for adding directories to the `load-path&#39;, relative to ;; this file. Emacs searches the `load-path&#39; when you load packages with ;; `require&#39; or `use-package&#39;. ;; - `map!&#39; for binding new keys ;; ;; To get information about any of these functions/macros, move the cursor over ;; the highlighted symbol at press &#39;K&#39; (non-evil users must press &#39;C-c c k&#39;). ;; This will open documentation for it, including demos of how they are used. ;; ;; You can also try &#39;gd&#39; (or &#39;C-c c d&#39;) to jump to their definition and see how ;; they are implemented. (custom-set-faces ;; custom-set-faces was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won&#39;t work right. &#39;(default ((t (:family &#34;Monaco&#34; :foundry &#34;nil&#34; :slant normal :weight normal :height 150 :width normal)))) &#39;(rainbow-delimiters-depth-1-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;light green&#34;)))) &#39;(rainbow-delimiters-depth-2-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;goldenrod2&#34;)))) &#39;(rainbow-delimiters-depth-3-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark magenta&#34;)))) &#39;(rainbow-delimiters-depth-4-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark cyan&#34;)))) &#39;(rainbow-delimiters-depth-5-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark blue&#34;)))) &#39;(rainbow-delimiters-depth-6-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;PaleVioletRed2&#34;)))) &#39;(rainbow-delimiters-depth-7-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;SpringGreen4&#34;)))) &#39;(rainbow-delimiters-depth-8-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;chocolate3&#34;)))) &#39;(rainbow-delimiters-depth-9-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;blue&#34;))))) (setq auto-save-default t) (run-with-idle-timer 5 t #&#39;save-some-buffers t) (setq make-backup-files t) (setq confirm-kill-emacs nil) (set-frame-position (selected-frame) 0 0) (add-to-list &#39;default-frame-alist &#39;(fullscreen . maximized)) (setq initial-frame-alist &#39;((top . 1) (left . 1) (width . 114) (height . 32))) ;;org-mode (setq org-superstar-headline-bullets-list &#39;(&#34;✿&#34; &#34;✸&#34; &#34;◉&#34; &#34;⁖&#34; &#34;○&#34; )) ;;(setq org-todo-keywords &#39;((sequence &#34;TODO(t)&#34; &#34;STARTED(s!)&#34; &#34;WAITING(w@/!)&#34; &#34;|&#34; &#34;DONE(d@/!)&#34; &#34;CANCELLED(c@/!)&#34;))) (setf org-todo-keyword-faces &#39;((&#34;TODO&#34; . (:foreground &#34;white&#34; :background &#34;#95A5A6&#34;))(&#34;STRT&#34;. (:foreground &#34;white&#34; :background &#34;#2E8B57&#34;))(&#34;DONE&#34; . (:foreground &#34;white&#34; :background &#34;#3498DB&#34;)))) (setq org-log-done &#39;time) (setq org-cycle-include-plain-lists t) (setq org-export-coding-system &#39;utf-8) (setq org-src-fontify-natively t) (setq org-html-doctype &#34;html5&#34;) (setq org-html-xml-declaration nil) (setq org-html-head &#34;&lt;link rel=&#39;stylesheet&#39; href=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css&#39; integrity=&#39;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn&#39; crossorigin=&#39;anonymous&#39;&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js&#39; integrity=&#39;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C&#43;OGpamoFVy38MVBnE&#43;IbbVYUew&#43;OrCXaRkfj&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js&#39; integrity=&#39;sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp&#43;tA7hAShOK/B/fQ2&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;&#34;) (org-babel-do-load-languages &#39;org-babel-load-languages &#39;((emacs-lisp . t) (c . t) (java . t) (go . t) (racket . t) (python . t) (latex . t) (shell . t) (js . t) (lisp . t) (scheme . t))) (setq-default prettify-symbols-alist &#39;((&#34;#&#43;BEGIN_SRC&#34; . &#34;†&#34;)(&#34;#&#43;END_SRC&#34; . &#34;†&#34;)(&#34;#&#43;begin_src&#34; . &#34;†&#34;) (&#34;#&#43;end_src&#34; . &#34;†&#34;) (&#34;&gt;=&#34; . &#34;≥&#34;)(&#34;=&gt;&#34; . &#34;⇨&#34;))) (setq prettify-symbols-unprettify-at-point &#39;right-edge) (add-hook &#39;org-mode-hook &#39;prettify-symbols-mode) (setq org-adapt-indentation nil) : ;;auto-wrap (global-visual-line-mode 1) ;1 for on, 0 for off. ;;racket (require &#39;racket-mode) (setq racket-program &#34;/Applications/Racket v8.4/bin/racket&#34;) (setq tab-always-indent &#39;complete) ;; 使用tab自动补全 (add-to-list &#39;auto-mode-alist &#39;(&#34;\\.rkt\\&#39;&#34; . racket-mode)) (add-to-list &#39;magic-mode-alist &#39;(&#34;^#lang racket&#34; . :racket-mode)) ;;golang (setq lsp-gopls-staticcheck t) (setq lsp-eldoc-render-all t) (setq lsp-gopls-complete-unimported t) (setq lsp-gopls-codelens nil) ;; Set up before-save hooks to format buffer and add/delete imports. ;; Make sure you don&#39;t have other gofmt/goimports hooks enabled. (defun lsp-go-install-save-hooks () (add-hook &#39;before-save-hook #&#39;lsp-format-buffer t t) (add-hook &#39;before-save-hook #&#39;lsp-organize-imports t t)) (add-hook &#39;go-mode-hook #&#39;lsp-go-install-save-hooks) ;; Company mode is a standard completion package that works well with lsp-mode. (use-package company :ensure t :config ;; Optionally enable completion-as-you-type behavior. (setq company-idle-delay 0) (setq company-minimum-prefix-length 1)) ;; Optional - provides snippet support. (use-package yasnippet :ensure t :commands yas-minor-mode :hook (go-mode . yas-minor-mode)) ;; language evniroment (set-language-environment &#39;UTF-8) (set-locale-environment &#34;UTF-8&#34;) (define-coding-system-alias &#39;UTF-8 &#39;utf-8) ;; elfeed (setq elfeed-db-directory &#34;~/work/emacs-org/elfeed&#34;) (setq rmh-elfeed-org-files (list &#34;~/work/emacs-org/elfeed/elfeed.org&#34;)) (add-hook! &#39;elfeed-search-mode-hook #&#39;elfeed-update) ;;(add-hook &#39;elfeed-new-entry-hook ;; (elfeed-make-tagger :before &#34;2 weeks ago&#34; ;; :remove &#39;unread)) ;; lsp (use-package lsp-mode :ensure t :commands (lsp lsp-deferred) :hook (go-mode . lsp-deferred) :custom ;; what to use when checking on-save. &#34;check&#34; is default, I prefer clippy (lsp-rust-analyzer-cargo-watch-command &#34;clippy&#34;) (lsp-eldoc-render-all t) (lsp-idle-delay 0.6) ;; enable / disable the hints as you prefer: (lsp-inlay-hint-enable t) ;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list (lsp-rust-analyzer-display-lifetime-elision-hints-enable &#34;skip_trivial&#34;) (lsp-rust-analyzer-display-chaining-hints t) (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names nil) (lsp-rust-analyzer-display-closure-return-type-hints t) (lsp-rust-analyzer-display-parameter-hints nil) (lsp-rust-analyzer-display-reborrow-hints nil) :config (add-hook &#39;lsp-mode-hook &#39;lsp-ui-mode)) ;; Optional - provides fancier overlays. (use-package lsp-ui :ensure :commands lsp-ui-mode :custom (lsp-ui-peek-always-show t) (lsp-ui-sideline-show-hover t) (lsp-ui-doc-enable nil)) (use-package flycheck :ensure) ;;rust ;;refer: https://robert.kra.hn/posts/rust-emacs-setup/ (use-package rustic :ensure :bind (:map rustic-mode-map (&#34;M-j&#34; . lsp-ui-imenu) (&#34;M-?&#34; . lsp-find-references) (&#34;C-c C-c l&#34; . flycheck-list-errors) (&#34;C-c C-c a&#34; . lsp-execute-code-action) (&#34;C-c C-c r&#34; . lsp-rename) (&#34;C-c C-c q&#34; . lsp-workspace-restart) (&#34;C-c C-c Q&#34; . lsp-workspace-shutdown) (&#34;C-c C-c s&#34; . lsp-rust-analyzer-status)) :config ;; uncomment for less flashiness ;; (setq lsp-eldoc-hook nil) ;; (setq lsp-enable-symbol-highlighting nil) ;; (setq lsp-signature-auto-activate nil) ;; comment to disable rustfmt on save (setq rustic-format-on-save t) (add-hook &#39;rustic-mode-hook &#39;rk/rustic-mode-hook)) (defun rk/rustic-mode-hook () ;; so that run C-c C-c C-r works without having to confirm, but don&#39;t try to ;; save rust buffers that are not file visiting. Once ;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should ;; no longer be necessary. (when buffer-file-name (setq-local buffer-save-without-query t)) (add-hook &#39;before-save-hook &#39;lsp-format-buffer nil t)) init.el ;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load ;; in. Remember to run &#39;doom sync&#39; after modifying it! ;; NOTE Press &#39;SPC h d h&#39; (or &#39;C-h d h&#39; for non-vim users) to access Doom&#39;s ;; documentation. There you&#39;ll find a &#34;Module Index&#34; link where you&#39;ll find ;; a comprehensive list of Doom&#39;s modules and what flags they support. ;; NOTE Move your cursor over a module&#39;s name (or its flags) and press &#39;K&#39; (or ;; &#39;C-c c k&#39; for non-vim users) to view its documentation. This works on ;; flags as well (those symbols that start with a plus). ;; ;; Alternatively, press &#39;gd&#39; (or &#39;C-c c d&#39;) on a module to browse its ;; directory (for easy access to its source code). ;;; 添加中国源 ;;(setq package-archives &#39;((&#34;gnu&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/gnu/&#34;) ;; (&#34;melpa&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa/&#34;) ;; (&#34;melpa-stable&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa-stable/&#34;) ;; (&#34;org&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/org/&#34;))) (doom! :input ;; chinese ;;japanese ;;layout ; auie,ctsrnm is the superior home row :completion company ; the ultimate code completion backend ;;helm ; the *other* search engine for love and life ;;ido ; the other *other* search engine... ivy ; a search engine for love and life vertico ; the search engine of the future :ui ;;deft ; notational velocity for Emacs doom ; what makes DOOM look the way it does doom-dashboard ; a nifty splash screen for Emacs doom-quit ; DOOM quit-message prompts when you quit Emacs ;;(emoji &#43;unicode) ; 🙂 hl-todo ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW ;;hydra ;;indent-guides ; highlighted indent columns ;;ligatures ; ligatures and symbols to make your code pretty again ;;minimap ; show a map of the code on the side modeline ; snazzy, Atom-inspired modeline, plus API ;;nav-flash ; blink cursor line after big motions ;;neotree ; a project drawer, like NERDTree for vim ophints ; highlight the region an operation acts on (popup &#43;defaults) ; tame sudden yet inevitable temporary windows ;;tabs ; a tab bar for Emacs treemacs ; a project drawer, like neotree but cooler ;;unicode ; extended unicode support for various languages vc-gutter ; vcs diff in the fringe vi-tilde-fringe ; fringe tildes to mark beyond EOB ;;window-select ; visually switch windows workspaces ; tab emulation, persistence &amp; separate workspaces ;;zen ; distraction-free coding or writing :editor (evil &#43;everywhere); come to the dark side, we have cookies file-templates ; auto-snippets for empty files fold ; (nigh) universal code folding (format &#43;onsave) ; automated prettiness ;;god ; run Emacs commands without modifier keys ;;lispy ; vim for lisp, for people who don&#39;t like vim ;;multiple-cursors ; editing in many places at once ;;objed ; text object editing for the innocent ;;parinfer ; turn lisp into python, sort of ;;rotate-text ; cycle region at point between text candidates snippets ; my elves. They type so I don&#39;t have to word-wrap ; soft wrapping with language-aware indent :emacs dired ; making dired pretty [functional] electric ; smarter, keyword-based electric-indent ;;ibuffer ; interactive buffer management undo ; persistent, smarter undo for your inevitable mistakes vc ; version-control and Emacs, sitting in a tree :term eshell ; the elisp shell that works everywhere shell ; simple shell REPL for Emacs ;;term ; basic terminal emulator for Emacs vterm ; the best terminal emulation in Emacs :checkers syntax ; tasing you for every semicolon you forget ;;(spell &#43;flyspell) ; tasing you for misspelling mispelling ;;grammar ; tasing grammar mistake every you make :tools ;;ansible ;;biblio ; Writes a PhD for you (citation needed) ;;debugger ; FIXME stepping through code, to help you add bugs ;;direnv ;;docker ;;editorconfig ; let someone else argue about tabs vs spaces ;;ein ; tame Jupyter notebooks with emacs (eval &#43;overlay) ; run code, run (also, repls) ;;gist ; interacting with github gists lookup ; navigate your code and its documentation lsp ; M-x vscode magit ; a git porcelain for Emacs ;;make ; run make tasks from Emacs ;;pass ; password manager for nerds ;;pdf ; pdf enhancements ;;prodigy ; FIXME managing external services &amp; code builders ;;rgb ; creating color strings ;;taskrunner ; taskrunner for all your projects ;;terraform ; infrastructure as code ;;tmux ; an API for interacting with tmux ;;upload ; map local to remote projects via ssh/ftp :os (:if IS-MAC macos) ; improve compatibility with macOS tty ; improve the terminal Emacs experience :lang ;;agda ; types of types of types of types... ;;beancount ; mind the GAAP ;;cc ; C &gt; C&#43;&#43; == 1 ;;clojure ; java with a lisp ;;common-lisp ; if you&#39;ve seen one lisp, you&#39;ve seen them all ;;coq ; proofs-as-programs ;;crystal ; ruby at the speed of c ;;csharp ; unity, .NET, and mono shenanigans ;;data ; config/data formats ;;(dart &#43;flutter) ; paint ui and not much else ;;dhall ;;elixir ; erlang done right ;;elm ; care for a cup of TEA? emacs-lisp ; drown in parentheses ;;erlang ; an elegant language for a more civilized age ;;ess ; emacs speaks statistics ;;factor ;;faust ; dsp, but you get to keep your soul ;;fortran ; in FORTRAN, GOD is REAL (unless declared INTEGER) ;;fsharp ; ML stands for Microsoft&#39;s Language ;;fstar ; (dependent) types and (monadic) effects and Z3 ;;gdscript ; the language you waited for (go &#43;lsp) ; the hipster dialect ;;(haskell &#43;lsp) ; a language that&#39;s lazier than I am ;;hy ; readability of scheme w/ speed of python ;;idris ; a language you can depend on json ; At least it ain&#39;t XML ;;(java &#43;meghanada) ; the poster child for carpal tunnel syndrome (java &#43;lsp) javascript ; all(hope(abandon(ye(who(enter(here)))))) ;;julia ; a better, faster MATLAB ;;kotlin ; a better, slicker Java(Script) ;;latex ; writing papers in Emacs has never been so fun ;;lean ; for folks with too much to prove ;;ledger ; be audit you can be ;;lua ; one-based indices? one-based indices markdown ; writing docs for people to ignore ;;nim ; python &#43; lisp at the speed of c ;;nix ; I hereby declare &#34;nix geht mehr!&#34; ;;ocaml ; an objective camel (org &#43;pretty) ; organize your plain life in plain text ;;php ; perl&#39;s insecure younger brother ;;plantuml ; diagrams for confusing people more ;;purescript ; javascript, but functional python ; beautiful is better than ugly ;;qt ; the &#39;cutest&#39; gui framework ever racket ; a DSL for DSLs ;;raku ; the artist formerly known as perl6 ;;rest ; Emacs as a REST client ;;rst ; ReST in peace ;;(ruby &#43;rails) ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;} ;;rust ; Fe2O3.unwrap().unwrap().unwrap().unwrap() ;;scala ; java, but good ;;(scheme &#43;guile) ; a fully conniving family of lisps sh ; she sells {ba,z,fi}sh shells on the C xor ;;sml ;;solidity ; do you need a blockchain? No. ;;swift ; who asked for emoji variables? ;;terra ; Earth and Moon in alignment for performance. ;;web ; the tubes yaml ; JSON, but readable ;;zig ; C, but simpler :email ;;(mu4e &#43;org &#43;gmail) ;;notmuch ;;(wanderlust &#43;gmail) :app ;;calendar ;;emms ;;everywhere ; *leave* Emacs!? You must be joking ;;irc ; how neckbeards socialize (rss &#43;org) ; emacs as an RSS reader ;;twitter ; twitter client https://twitter.com/vnought :config ;;literate (default &#43;bindings &#43;smartparens)) packages.el ;; -*- no-byte-compile: t; -*- ;;; $DOOMDIR/packages.el ;; To install a package with Doom you must declare them here and run &#39;doom sync&#39; ;; on the command line, then restart Emacs for the changes to take effect -- or ;; use &#39;M-x doom/reload&#39;. ;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror: ;(package! some-package) ;; To install a package directly from a remote git repo, you must specify a ;; `:recipe&#39;. You&#39;ll find documentation on what `:recipe&#39; accepts here: ;; https://github.com/raxod502/straight.el#the-recipe-format ;(package! another-package ; :recipe (:host github :repo &#34;username/repo&#34;)) ;; If the package you are trying to install does not contain a PACKAGENAME.el ;; file, or is located in a subdirectory of the repo, you&#39;ll need to specify ;; `:files&#39; in the `:recipe&#39;: ;(package! this-package ; :recipe (:host github :repo &#34;username/repo&#34; ; :files (&#34;some-file.el&#34; &#34;src/lisp/*.el&#34;))) ;; If you&#39;d like to disable a package included with Doom, you can do so here ;; with the `:disable&#39; property: ;(package! builtin-package :disable t) ;; You can override the recipe of a built in package without having to specify ;; all the properties for `:recipe&#39;. These will inherit the rest of its recipe ;; from Doom or MELPA/ELPA/Emacsmirror: ;(package! builtin-package :recipe (:nonrecursive t)) ;(package! builtin-package-2 :recipe (:repo &#34;myfork/package&#34;)) ;; Specify a `:branch&#39; to install a package from a particular branch or tag. ;; This is required for some packages whose default branch isn&#39;t &#39;master&#39; (which ;; our package manager can&#39;t deal with; see raxod502/straight.el#279) ;(package! builtin-package :recipe (:branch &#34;develop&#34;)) ;; Use `:pin&#39; to specify a particular commit to install. ;(package! builtin-package :pin &#34;1a2b3c4d5e&#34;) ;; Doom&#39;s packages are pinned to a specific commit and updated from release to ;; release. The `unpin!&#39; macro allows you to unpin single packages... ;(unpin! pinned-package) ;; ...or multiple packages ;(unpin! pinned-package another-pinned-package) ;; ...Or *all* packages (NOT RECOMMENDED; will likely break things) ;(unpin! t) (package! racket-mode) (package! spacemacs-theme) elfeed.org * root :elfeed: ** Programming :programming: *** https://www.reddit.com/r/functionalprogramming/.rss :Reddit: ** News :news: *** https://news.ycombinator.com/rss :Hack News: ">
  <meta property="og:locale" content="zh">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2022-02-23T08:58:54+08:00">
    <meta property="article:modified_time" content="2022-02-23T08:58:54+08:00">
    <meta property="article:tag" content="Emacs">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="我的Doom Emacs配置">
<meta name="twitter:description" content="config.el
;;; $DOOMDIR/config.el -*- lexical-binding: t; -*-

;; Place your private configuration here! Remember, you do not need to run &#39;doom
;; sync&#39; after modifying this file!


;; Some functionality uses this to identify you, e.g. GPG configuration, email
;; clients, file templates and snippets.
(setq user-full-name &#34;Siquan&#34;
      user-mail-address &#34;xx@xx.com&#34;)

;; Doom exposes five (optional) variables for controlling fonts in Doom. Here
;; are the three important ones:
;;
;; &#43; `doom-font&#39;
;; &#43; `doom-variable-pitch-font&#39;
;; &#43; `doom-big-font&#39; -- used for `doom-big-font-mode&#39;; use this for
;;   presentations or streaming.
;;
;; They all accept either a font-spec, font string (&#34;Input Mono-12&#34;), or xlfd
;; font string. You generally only need these two:
;;(setq doom-font (font-spec :family &#34;monaco&#34; :size 14 :weight &#39;semi-light)
;;       doom-variable-pitch-font (font-spec :family &#34;sans&#34; :size 13))

;; There are two ways to load a theme. Both assume the theme is installed and
;; available. You can either set `doom-theme&#39; or manually load a theme with the
;; `load-theme&#39; function. This is the default:
(setq doom-theme &#39;doom-monokai-pro)

;; If you use `org&#39; and don&#39;t want your org files in the default location below,
;; change `org-directory&#39;. It must be set before org loads!
(setq org-directory &#34;~/work/emacs-org/&#34;)

;; This determines the style of line numbers in effect. If set to `nil&#39;, line
;; numbers are disabled. For relative line numbers, set this to `relative&#39;.
(setq display-line-numbers-type t)


;; Here are some additional functions/macros that could help you configure Doom:
;;
;; - `load!&#39; for loading external *.el files relative to this one
;; - `use-package!&#39; for configuring packages
;; - `after!&#39; for running code after a package has loaded
;; - `add-load-path!&#39; for adding directories to the `load-path&#39;, relative to
;;   this file. Emacs searches the `load-path&#39; when you load packages with
;;   `require&#39; or `use-package&#39;.
;; - `map!&#39; for binding new keys
;;
;; To get information about any of these functions/macros, move the cursor over
;; the highlighted symbol at press &#39;K&#39; (non-evil users must press &#39;C-c c k&#39;).
;; This will open documentation for it, including demos of how they are used.
;;
;; You can also try &#39;gd&#39; (or &#39;C-c c d&#39;) to jump to their definition and see how
;; they are implemented.



(custom-set-faces
 ;; custom-set-faces was added by Custom.
 ;; If you edit it by hand, you could mess it up, so be careful.
 ;; Your init file should contain only one such instance.
 ;; If there is more than one, they won&#39;t work right.
 &#39;(default ((t (:family &#34;Monaco&#34; :foundry &#34;nil&#34; :slant normal :weight normal :height 150 :width normal))))
 &#39;(rainbow-delimiters-depth-1-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;light green&#34;))))
 &#39;(rainbow-delimiters-depth-2-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;goldenrod2&#34;))))
 &#39;(rainbow-delimiters-depth-3-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark magenta&#34;))))
 &#39;(rainbow-delimiters-depth-4-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark cyan&#34;))))
 &#39;(rainbow-delimiters-depth-5-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;dark blue&#34;))))
 &#39;(rainbow-delimiters-depth-6-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;PaleVioletRed2&#34;))))
 &#39;(rainbow-delimiters-depth-7-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;SpringGreen4&#34;))))
 &#39;(rainbow-delimiters-depth-8-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;chocolate3&#34;))))
 &#39;(rainbow-delimiters-depth-9-face ((t (:inherit rainbow-delimiters-base-face :foreground &#34;blue&#34;)))))





(setq auto-save-default t)
(run-with-idle-timer 5 t #&#39;save-some-buffers t)
(setq make-backup-files t)
(setq confirm-kill-emacs nil)
(set-frame-position (selected-frame) 0 0)
(add-to-list &#39;default-frame-alist &#39;(fullscreen . maximized))
(setq initial-frame-alist &#39;((top . 1) (left . 1) (width . 114) (height . 32)))

;;org-mode
(setq org-superstar-headline-bullets-list &#39;(&#34;✿&#34; &#34;✸&#34; &#34;◉&#34; &#34;⁖&#34; &#34;○&#34; ))
;;(setq org-todo-keywords &#39;((sequence &#34;TODO(t)&#34; &#34;STARTED(s!)&#34; &#34;WAITING(w@/!)&#34; &#34;|&#34; &#34;DONE(d@/!)&#34; &#34;CANCELLED(c@/!)&#34;)))
(setf org-todo-keyword-faces &#39;((&#34;TODO&#34; . (:foreground &#34;white&#34; :background &#34;#95A5A6&#34;))(&#34;STRT&#34;. (:foreground &#34;white&#34; :background &#34;#2E8B57&#34;))(&#34;DONE&#34; . (:foreground &#34;white&#34; :background &#34;#3498DB&#34;))))
(setq org-log-done &#39;time)
(setq org-cycle-include-plain-lists t)
(setq org-export-coding-system &#39;utf-8)
(setq org-src-fontify-natively t)
(setq org-html-doctype &#34;html5&#34;)
(setq org-html-xml-declaration nil)
(setq org-html-head &#34;&lt;link rel=&#39;stylesheet&#39; href=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css&#39; integrity=&#39;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn&#39; crossorigin=&#39;anonymous&#39;&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js&#39; integrity=&#39;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C&#43;OGpamoFVy38MVBnE&#43;IbbVYUew&#43;OrCXaRkfj&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js&#39; integrity=&#39;sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp&#43;tA7hAShOK/B/fQ2&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;&#34;)
(org-babel-do-load-languages
 &#39;org-babel-load-languages
 &#39;((emacs-lisp . t)
   (c . t)
   (java . t)
   (go . t)
   (racket . t)
   (python . t)
   (latex . t)
   (shell . t)
   (js . t)
   (lisp . t)
   (scheme . t)))
(setq-default prettify-symbols-alist &#39;((&#34;#&#43;BEGIN_SRC&#34; . &#34;†&#34;)(&#34;#&#43;END_SRC&#34; . &#34;†&#34;)(&#34;#&#43;begin_src&#34; . &#34;†&#34;) (&#34;#&#43;end_src&#34; . &#34;†&#34;) (&#34;&gt;=&#34; . &#34;≥&#34;)(&#34;=&gt;&#34; . &#34;⇨&#34;)))
(setq prettify-symbols-unprettify-at-point &#39;right-edge)
(add-hook &#39;org-mode-hook &#39;prettify-symbols-mode)
(setq org-adapt-indentation nil)

:
;;auto-wrap
(global-visual-line-mode 1)  ;1 for on, 0 for off.



;;racket
(require &#39;racket-mode)
(setq racket-program &#34;/Applications/Racket v8.4/bin/racket&#34;)
(setq tab-always-indent &#39;complete) ;; 使用tab自动补全
(add-to-list &#39;auto-mode-alist &#39;(&#34;\\.rkt\\&#39;&#34; . racket-mode))
(add-to-list &#39;magic-mode-alist &#39;(&#34;^#lang racket&#34; . :racket-mode))

;;golang
(setq lsp-gopls-staticcheck t)
(setq lsp-eldoc-render-all t)
(setq lsp-gopls-complete-unimported t)
(setq lsp-gopls-codelens nil)

;; Set up before-save hooks to format buffer and add/delete imports.
;; Make sure you don&#39;t have other gofmt/goimports hooks enabled.
(defun lsp-go-install-save-hooks ()
  (add-hook &#39;before-save-hook #&#39;lsp-format-buffer t t)
  (add-hook &#39;before-save-hook #&#39;lsp-organize-imports t t))
(add-hook &#39;go-mode-hook #&#39;lsp-go-install-save-hooks)


;; Company mode is a standard completion package that works well with lsp-mode.
(use-package company
  :ensure t
  :config
  ;; Optionally enable completion-as-you-type behavior.
  (setq company-idle-delay 0)
  (setq company-minimum-prefix-length 1))

;; Optional - provides snippet support.
(use-package yasnippet
  :ensure t
  :commands yas-minor-mode
  :hook (go-mode . yas-minor-mode))

;; language evniroment
(set-language-environment &#39;UTF-8)
(set-locale-environment &#34;UTF-8&#34;)
(define-coding-system-alias &#39;UTF-8 &#39;utf-8)



;; elfeed
(setq elfeed-db-directory &#34;~/work/emacs-org/elfeed&#34;)
(setq rmh-elfeed-org-files (list &#34;~/work/emacs-org/elfeed/elfeed.org&#34;))
(add-hook! &#39;elfeed-search-mode-hook #&#39;elfeed-update)
;;(add-hook &#39;elfeed-new-entry-hook
;;          (elfeed-make-tagger :before &#34;2 weeks ago&#34;
;;                              :remove &#39;unread))

;; lsp
(use-package lsp-mode
  :ensure t
  :commands (lsp lsp-deferred)
  :hook (go-mode . lsp-deferred)
  :custom
  ;; what to use when checking on-save. &#34;check&#34; is default, I prefer clippy
  (lsp-rust-analyzer-cargo-watch-command &#34;clippy&#34;)
  (lsp-eldoc-render-all t)
  (lsp-idle-delay 0.6)
  ;; enable / disable the hints as you prefer:
  (lsp-inlay-hint-enable t)
  ;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list
  (lsp-rust-analyzer-display-lifetime-elision-hints-enable &#34;skip_trivial&#34;)
  (lsp-rust-analyzer-display-chaining-hints t)
  (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names nil)
  (lsp-rust-analyzer-display-closure-return-type-hints t)
  (lsp-rust-analyzer-display-parameter-hints nil)
  (lsp-rust-analyzer-display-reborrow-hints nil)
  :config
  (add-hook &#39;lsp-mode-hook &#39;lsp-ui-mode))

;; Optional - provides fancier overlays.
(use-package lsp-ui
  :ensure
  :commands lsp-ui-mode
  :custom
  (lsp-ui-peek-always-show t)
  (lsp-ui-sideline-show-hover t)
  (lsp-ui-doc-enable nil))

(use-package flycheck :ensure)


;;rust
;;refer: https://robert.kra.hn/posts/rust-emacs-setup/
(use-package rustic
  :ensure
  :bind (:map rustic-mode-map
              (&#34;M-j&#34; . lsp-ui-imenu)
              (&#34;M-?&#34; . lsp-find-references)
              (&#34;C-c C-c l&#34; . flycheck-list-errors)
              (&#34;C-c C-c a&#34; . lsp-execute-code-action)
              (&#34;C-c C-c r&#34; . lsp-rename)
              (&#34;C-c C-c q&#34; . lsp-workspace-restart)
              (&#34;C-c C-c Q&#34; . lsp-workspace-shutdown)
              (&#34;C-c C-c s&#34; . lsp-rust-analyzer-status))
  :config
  ;; uncomment for less flashiness
  ;; (setq lsp-eldoc-hook nil)
  ;; (setq lsp-enable-symbol-highlighting nil)
  ;; (setq lsp-signature-auto-activate nil)

  ;; comment to disable rustfmt on save
  (setq rustic-format-on-save t)
  (add-hook &#39;rustic-mode-hook &#39;rk/rustic-mode-hook))

(defun rk/rustic-mode-hook ()
  ;; so that run C-c C-c C-r works without having to confirm, but don&#39;t try to
  ;; save rust buffers that are not file visiting. Once
  ;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should
  ;; no longer be necessary.
  (when buffer-file-name
    (setq-local buffer-save-without-query t))
  (add-hook &#39;before-save-hook &#39;lsp-format-buffer nil t))
init.el
;;; init.el -*- lexical-binding: t; -*-

;; This file controls what Doom modules are enabled and what order they load
;; in. Remember to run &#39;doom sync&#39; after modifying it!

;; NOTE Press &#39;SPC h d h&#39; (or &#39;C-h d h&#39; for non-vim users) to access Doom&#39;s
;;      documentation. There you&#39;ll find a &#34;Module Index&#34; link where you&#39;ll find
;;      a comprehensive list of Doom&#39;s modules and what flags they support.

;; NOTE Move your cursor over a module&#39;s name (or its flags) and press &#39;K&#39; (or
;;      &#39;C-c c k&#39; for non-vim users) to view its documentation. This works on
;;      flags as well (those symbols that start with a plus).
;;
;;      Alternatively, press &#39;gd&#39; (or &#39;C-c c d&#39;) on a module to browse its
;;      directory (for easy access to its source code).

;;; 添加中国源
;;(setq package-archives &#39;((&#34;gnu&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/gnu/&#34;)
;;                         (&#34;melpa&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa/&#34;)
;;                         (&#34;melpa-stable&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa-stable/&#34;)
;;                         (&#34;org&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/org/&#34;)))


(doom! :input
       ;; chinese
       ;;japanese
       ;;layout            ; auie,ctsrnm is the superior home row

       :completion
       company           ; the ultimate code completion backend
       ;;helm              ; the *other* search engine for love and life
       ;;ido               ; the other *other* search engine...
       ivy               ; a search engine for love and life
       vertico           ; the search engine of the future

       :ui
       ;;deft              ; notational velocity for Emacs
       doom              ; what makes DOOM look the way it does
       doom-dashboard    ; a nifty splash screen for Emacs
       doom-quit         ; DOOM quit-message prompts when you quit Emacs
       ;;(emoji &#43;unicode)  ; 🙂
       hl-todo           ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW
       ;;hydra
       ;;indent-guides     ; highlighted indent columns
       ;;ligatures         ; ligatures and symbols to make your code pretty again
       ;;minimap           ; show a map of the code on the side
       modeline          ; snazzy, Atom-inspired modeline, plus API
       ;;nav-flash         ; blink cursor line after big motions
       ;;neotree           ; a project drawer, like NERDTree for vim
       ophints           ; highlight the region an operation acts on
       (popup &#43;defaults)   ; tame sudden yet inevitable temporary windows
       ;;tabs              ; a tab bar for Emacs
       treemacs          ; a project drawer, like neotree but cooler
       ;;unicode           ; extended unicode support for various languages
       vc-gutter         ; vcs diff in the fringe
       vi-tilde-fringe   ; fringe tildes to mark beyond EOB
       ;;window-select     ; visually switch windows
       workspaces        ; tab emulation, persistence &amp; separate workspaces
       ;;zen               ; distraction-free coding or writing

       :editor
       (evil &#43;everywhere); come to the dark side, we have cookies
       file-templates    ; auto-snippets for empty files
       fold              ; (nigh) universal code folding
       (format &#43;onsave)  ; automated prettiness
       ;;god               ; run Emacs commands without modifier keys
       ;;lispy             ; vim for lisp, for people who don&#39;t like vim
       ;;multiple-cursors  ; editing in many places at once
       ;;objed             ; text object editing for the innocent
       ;;parinfer          ; turn lisp into python, sort of
       ;;rotate-text       ; cycle region at point between text candidates
       snippets          ; my elves. They type so I don&#39;t have to
       word-wrap         ; soft wrapping with language-aware indent

       :emacs
       dired             ; making dired pretty [functional]
       electric          ; smarter, keyword-based electric-indent
       ;;ibuffer         ; interactive buffer management
       undo              ; persistent, smarter undo for your inevitable mistakes
       vc                ; version-control and Emacs, sitting in a tree

       :term
       eshell            ; the elisp shell that works everywhere
       shell             ; simple shell REPL for Emacs
       ;;term              ; basic terminal emulator for Emacs
       vterm             ; the best terminal emulation in Emacs

       :checkers
       syntax              ; tasing you for every semicolon you forget
       ;;(spell &#43;flyspell) ; tasing you for misspelling mispelling
       ;;grammar           ; tasing grammar mistake every you make

       :tools
       ;;ansible
       ;;biblio            ; Writes a PhD for you (citation needed)
       ;;debugger          ; FIXME stepping through code, to help you add bugs
       ;;direnv
       ;;docker
       ;;editorconfig      ; let someone else argue about tabs vs spaces
       ;;ein               ; tame Jupyter notebooks with emacs
       (eval &#43;overlay)     ; run code, run (also, repls)
       ;;gist              ; interacting with github gists
       lookup              ; navigate your code and its documentation
       lsp               ; M-x vscode
       magit             ; a git porcelain for Emacs
       ;;make              ; run make tasks from Emacs
       ;;pass              ; password manager for nerds
       ;;pdf               ; pdf enhancements
       ;;prodigy           ; FIXME managing external services &amp; code builders
       ;;rgb               ; creating color strings
       ;;taskrunner        ; taskrunner for all your projects
       ;;terraform         ; infrastructure as code
       ;;tmux              ; an API for interacting with tmux
       ;;upload            ; map local to remote projects via ssh/ftp

       :os
       (:if IS-MAC macos)  ; improve compatibility with macOS
       tty               ; improve the terminal Emacs experience

       :lang
       ;;agda              ; types of types of types of types...
       ;;beancount         ; mind the GAAP
       ;;cc                ; C &gt; C&#43;&#43; == 1
       ;;clojure           ; java with a lisp
       ;;common-lisp       ; if you&#39;ve seen one lisp, you&#39;ve seen them all
       ;;coq               ; proofs-as-programs
       ;;crystal           ; ruby at the speed of c
       ;;csharp            ; unity, .NET, and mono shenanigans
       ;;data              ; config/data formats
       ;;(dart &#43;flutter)   ; paint ui and not much else
       ;;dhall
       ;;elixir            ; erlang done right
       ;;elm               ; care for a cup of TEA?
       emacs-lisp        ; drown in parentheses
       ;;erlang            ; an elegant language for a more civilized age
       ;;ess               ; emacs speaks statistics
       ;;factor
       ;;faust             ; dsp, but you get to keep your soul
       ;;fortran           ; in FORTRAN, GOD is REAL (unless declared INTEGER)
       ;;fsharp            ; ML stands for Microsoft&#39;s Language
       ;;fstar             ; (dependent) types and (monadic) effects and Z3
       ;;gdscript          ; the language you waited for
       (go &#43;lsp)         ; the hipster dialect
       ;;(haskell &#43;lsp)    ; a language that&#39;s lazier than I am
       ;;hy                ; readability of scheme w/ speed of python
       ;;idris             ; a language you can depend on
       json              ; At least it ain&#39;t XML
       ;;(java &#43;meghanada) ; the poster child for carpal tunnel syndrome
       (java &#43;lsp)
       javascript        ; all(hope(abandon(ye(who(enter(here))))))
       ;;julia             ; a better, faster MATLAB
       ;;kotlin            ; a better, slicker Java(Script)
       ;;latex             ; writing papers in Emacs has never been so fun
       ;;lean              ; for folks with too much to prove
       ;;ledger            ; be audit you can be
       ;;lua               ; one-based indices? one-based indices
       markdown          ; writing docs for people to ignore
       ;;nim               ; python &#43; lisp at the speed of c
       ;;nix               ; I hereby declare &#34;nix geht mehr!&#34;
       ;;ocaml             ; an objective camel
       (org &#43;pretty)               ; organize your plain life in plain text
       ;;php               ; perl&#39;s insecure younger brother
       ;;plantuml          ; diagrams for confusing people more
       ;;purescript        ; javascript, but functional
       python            ; beautiful is better than ugly
       ;;qt                ; the &#39;cutest&#39; gui framework ever
       racket            ; a DSL for DSLs
       ;;raku              ; the artist formerly known as perl6
       ;;rest              ; Emacs as a REST client
       ;;rst               ; ReST in peace
       ;;(ruby &#43;rails)     ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;}
       ;;rust              ; Fe2O3.unwrap().unwrap().unwrap().unwrap()
       ;;scala             ; java, but good
       ;;(scheme &#43;guile)   ; a fully conniving family of lisps
       sh                ; she sells {ba,z,fi}sh shells on the C xor
       ;;sml
       ;;solidity          ; do you need a blockchain? No.
       ;;swift             ; who asked for emoji variables?
       ;;terra             ; Earth and Moon in alignment for performance.
       ;;web               ; the tubes
       yaml              ; JSON, but readable
       ;;zig               ; C, but simpler

       :email
       ;;(mu4e &#43;org &#43;gmail)
       ;;notmuch
       ;;(wanderlust &#43;gmail)

       :app
       ;;calendar
       ;;emms
       ;;everywhere        ; *leave* Emacs!? You must be joking
       ;;irc               ; how neckbeards socialize
       (rss &#43;org)        ; emacs as an RSS reader
       ;;twitter           ; twitter client https://twitter.com/vnought

       :config
       ;;literate
       (default &#43;bindings &#43;smartparens))
packages.el
;; -*- no-byte-compile: t; -*-
;;; $DOOMDIR/packages.el

;; To install a package with Doom you must declare them here and run &#39;doom sync&#39;
;; on the command line, then restart Emacs for the changes to take effect -- or
;; use &#39;M-x doom/reload&#39;.


;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror:
;(package! some-package)

;; To install a package directly from a remote git repo, you must specify a
;; `:recipe&#39;. You&#39;ll find documentation on what `:recipe&#39; accepts here:
;; https://github.com/raxod502/straight.el#the-recipe-format
;(package! another-package
;  :recipe (:host github :repo &#34;username/repo&#34;))

;; If the package you are trying to install does not contain a PACKAGENAME.el
;; file, or is located in a subdirectory of the repo, you&#39;ll need to specify
;; `:files&#39; in the `:recipe&#39;:
;(package! this-package
;  :recipe (:host github :repo &#34;username/repo&#34;
;           :files (&#34;some-file.el&#34; &#34;src/lisp/*.el&#34;)))

;; If you&#39;d like to disable a package included with Doom, you can do so here
;; with the `:disable&#39; property:
;(package! builtin-package :disable t)

;; You can override the recipe of a built in package without having to specify
;; all the properties for `:recipe&#39;. These will inherit the rest of its recipe
;; from Doom or MELPA/ELPA/Emacsmirror:
;(package! builtin-package :recipe (:nonrecursive t))
;(package! builtin-package-2 :recipe (:repo &#34;myfork/package&#34;))

;; Specify a `:branch&#39; to install a package from a particular branch or tag.
;; This is required for some packages whose default branch isn&#39;t &#39;master&#39; (which
;; our package manager can&#39;t deal with; see raxod502/straight.el#279)
;(package! builtin-package :recipe (:branch &#34;develop&#34;))

;; Use `:pin&#39; to specify a particular commit to install.
;(package! builtin-package :pin &#34;1a2b3c4d5e&#34;)


;; Doom&#39;s packages are pinned to a specific commit and updated from release to
;; release. The `unpin!&#39; macro allows you to unpin single packages...
;(unpin! pinned-package)
;; ...or multiple packages
;(unpin! pinned-package another-pinned-package)
;; ...Or *all* packages (NOT RECOMMENDED; will likely break things)
;(unpin! t)

(package! racket-mode)

(package! spacemacs-theme)
elfeed.org
* root :elfeed:
** Programming :programming:
*** https://www.reddit.com/r/functionalprogramming/.rss :Reddit:

** News :news:
*** https://news.ycombinator.com/rss :Hack News:
">


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://continuation.cn/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "我的Doom Emacs配置",
      "item": "https://continuation.cn/2022/02/my-doom-emacs-config/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "我的Doom Emacs配置",
  "name": "我的Doom Emacs配置",
  "description": "config.el ;;; $DOOMDIR/config.el -*- lexical-binding: t; -*- ;; Place your private configuration here! Remember, you do not need to run \u0026#39;doom ;; sync\u0026#39; after modifying this file! ;; Some functionality uses this to identify you, e.g. GPG configuration, email ;; clients, file templates and snippets. (setq user-full-name \u0026#34;Siquan\u0026#34; user-mail-address \u0026#34;xx@xx.com\u0026#34;) ;; Doom exposes five (optional) variables for controlling fonts in Doom. Here ;; are the three important ones: ;; ;; + `doom-font\u0026#39; ;; + `doom-variable-pitch-font\u0026#39; ;; + `doom-big-font\u0026#39; -- used for `doom-big-font-mode\u0026#39;; use this for ;; presentations or streaming. ;; ;; They all accept either a font-spec, font string (\u0026#34;Input Mono-12\u0026#34;), or xlfd ;; font string. You generally only need these two: ;;(setq doom-font (font-spec :family \u0026#34;monaco\u0026#34; :size 14 :weight \u0026#39;semi-light) ;; doom-variable-pitch-font (font-spec :family \u0026#34;sans\u0026#34; :size 13)) ;; There are two ways to load a theme. Both assume the theme is installed and ;; available. You can either set `doom-theme\u0026#39; or manually load a theme with the ;; `load-theme\u0026#39; function. This is the default: (setq doom-theme \u0026#39;doom-monokai-pro) ;; If you use `org\u0026#39; and don\u0026#39;t want your org files in the default location below, ;; change `org-directory\u0026#39;. It must be set before org loads! (setq org-directory \u0026#34;~/work/emacs-org/\u0026#34;) ;; This determines the style of line numbers in effect. If set to `nil\u0026#39;, line ;; numbers are disabled. For relative line numbers, set this to `relative\u0026#39;. (setq display-line-numbers-type t) ;; Here are some additional functions/macros that could help you configure Doom: ;; ;; - `load!\u0026#39; for loading external *.el files relative to this one ;; - `use-package!\u0026#39; for configuring packages ;; - `after!\u0026#39; for running code after a package has loaded ;; - `add-load-path!\u0026#39; for adding directories to the `load-path\u0026#39;, relative to ;; this file. Emacs searches the `load-path\u0026#39; when you load packages with ;; `require\u0026#39; or `use-package\u0026#39;. ;; - `map!\u0026#39; for binding new keys ;; ;; To get information about any of these functions/macros, move the cursor over ;; the highlighted symbol at press \u0026#39;K\u0026#39; (non-evil users must press \u0026#39;C-c c k\u0026#39;). ;; This will open documentation for it, including demos of how they are used. ;; ;; You can also try \u0026#39;gd\u0026#39; (or \u0026#39;C-c c d\u0026#39;) to jump to their definition and see how ;; they are implemented. (custom-set-faces ;; custom-set-faces was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won\u0026#39;t work right. \u0026#39;(default ((t (:family \u0026#34;Monaco\u0026#34; :foundry \u0026#34;nil\u0026#34; :slant normal :weight normal :height 150 :width normal)))) \u0026#39;(rainbow-delimiters-depth-1-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;light green\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-2-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;goldenrod2\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-3-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;dark magenta\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-4-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;dark cyan\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-5-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;dark blue\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-6-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;PaleVioletRed2\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-7-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;SpringGreen4\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-8-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;chocolate3\u0026#34;)))) \u0026#39;(rainbow-delimiters-depth-9-face ((t (:inherit rainbow-delimiters-base-face :foreground \u0026#34;blue\u0026#34;))))) (setq auto-save-default t) (run-with-idle-timer 5 t #\u0026#39;save-some-buffers t) (setq make-backup-files t) (setq confirm-kill-emacs nil) (set-frame-position (selected-frame) 0 0) (add-to-list \u0026#39;default-frame-alist \u0026#39;(fullscreen . maximized)) (setq initial-frame-alist \u0026#39;((top . 1) (left . 1) (width . 114) (height . 32))) ;;org-mode (setq org-superstar-headline-bullets-list \u0026#39;(\u0026#34;✿\u0026#34; \u0026#34;✸\u0026#34; \u0026#34;◉\u0026#34; \u0026#34;⁖\u0026#34; \u0026#34;○\u0026#34; )) ;;(setq org-todo-keywords \u0026#39;((sequence \u0026#34;TODO(t)\u0026#34; \u0026#34;STARTED(s!)\u0026#34; \u0026#34;WAITING(w@/!)\u0026#34; \u0026#34;|\u0026#34; \u0026#34;DONE(d@/!)\u0026#34; \u0026#34;CANCELLED(c@/!)\u0026#34;))) (setf org-todo-keyword-faces \u0026#39;((\u0026#34;TODO\u0026#34; . (:foreground \u0026#34;white\u0026#34; :background \u0026#34;#95A5A6\u0026#34;))(\u0026#34;STRT\u0026#34;. (:foreground \u0026#34;white\u0026#34; :background \u0026#34;#2E8B57\u0026#34;))(\u0026#34;DONE\u0026#34; . (:foreground \u0026#34;white\u0026#34; :background \u0026#34;#3498DB\u0026#34;)))) (setq org-log-done \u0026#39;time) (setq org-cycle-include-plain-lists t) (setq org-export-coding-system \u0026#39;utf-8) (setq org-src-fontify-natively t) (setq org-html-doctype \u0026#34;html5\u0026#34;) (setq org-html-xml-declaration nil) (setq org-html-head \u0026#34;\u0026lt;link rel=\u0026#39;stylesheet\u0026#39; href=\u0026#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\u0026#39; integrity=\u0026#39;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\u0026#39; crossorigin=\u0026#39;anonymous\u0026#39;\u0026gt;\\n\u0026lt;script src=\u0026#39;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js\u0026#39; integrity=\u0026#39;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj\u0026#39; crossorigin=\u0026#39;anonymous\u0026#39;\u0026gt;\u0026lt;/script\u0026gt;\\n\u0026lt;script src=\u0026#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js\u0026#39; integrity=\u0026#39;sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2\u0026#39; crossorigin=\u0026#39;anonymous\u0026#39;\u0026gt;\u0026lt;/script\u0026gt;\u0026#34;) (org-babel-do-load-languages \u0026#39;org-babel-load-languages \u0026#39;((emacs-lisp . t) (c . t) (java . t) (go . t) (racket . t) (python . t) (latex . t) (shell . t) (js . t) (lisp . t) (scheme . t))) (setq-default prettify-symbols-alist \u0026#39;((\u0026#34;#+BEGIN_SRC\u0026#34; . \u0026#34;†\u0026#34;)(\u0026#34;#+END_SRC\u0026#34; . \u0026#34;†\u0026#34;)(\u0026#34;#+begin_src\u0026#34; . \u0026#34;†\u0026#34;) (\u0026#34;#+end_src\u0026#34; . \u0026#34;†\u0026#34;) (\u0026#34;\u0026gt;=\u0026#34; . \u0026#34;≥\u0026#34;)(\u0026#34;=\u0026gt;\u0026#34; . \u0026#34;⇨\u0026#34;))) (setq prettify-symbols-unprettify-at-point \u0026#39;right-edge) (add-hook \u0026#39;org-mode-hook \u0026#39;prettify-symbols-mode) (setq org-adapt-indentation nil) : ;;auto-wrap (global-visual-line-mode 1) ;1 for on, 0 for off. ;;racket (require \u0026#39;racket-mode) (setq racket-program \u0026#34;/Applications/Racket v8.4/bin/racket\u0026#34;) (setq tab-always-indent \u0026#39;complete) ;; 使用tab自动补全 (add-to-list \u0026#39;auto-mode-alist \u0026#39;(\u0026#34;\\\\.rkt\\\\\u0026#39;\u0026#34; . racket-mode)) (add-to-list \u0026#39;magic-mode-alist \u0026#39;(\u0026#34;^#lang racket\u0026#34; . :racket-mode)) ;;golang (setq lsp-gopls-staticcheck t) (setq lsp-eldoc-render-all t) (setq lsp-gopls-complete-unimported t) (setq lsp-gopls-codelens nil) ;; Set up before-save hooks to format buffer and add/delete imports. ;; Make sure you don\u0026#39;t have other gofmt/goimports hooks enabled. (defun lsp-go-install-save-hooks () (add-hook \u0026#39;before-save-hook #\u0026#39;lsp-format-buffer t t) (add-hook \u0026#39;before-save-hook #\u0026#39;lsp-organize-imports t t)) (add-hook \u0026#39;go-mode-hook #\u0026#39;lsp-go-install-save-hooks) ;; Company mode is a standard completion package that works well with lsp-mode. (use-package company :ensure t :config ;; Optionally enable completion-as-you-type behavior. (setq company-idle-delay 0) (setq company-minimum-prefix-length 1)) ;; Optional - provides snippet support. (use-package yasnippet :ensure t :commands yas-minor-mode :hook (go-mode . yas-minor-mode)) ;; language evniroment (set-language-environment \u0026#39;UTF-8) (set-locale-environment \u0026#34;UTF-8\u0026#34;) (define-coding-system-alias \u0026#39;UTF-8 \u0026#39;utf-8) ;; elfeed (setq elfeed-db-directory \u0026#34;~/work/emacs-org/elfeed\u0026#34;) (setq rmh-elfeed-org-files (list \u0026#34;~/work/emacs-org/elfeed/elfeed.org\u0026#34;)) (add-hook! \u0026#39;elfeed-search-mode-hook #\u0026#39;elfeed-update) ;;(add-hook \u0026#39;elfeed-new-entry-hook ;; (elfeed-make-tagger :before \u0026#34;2 weeks ago\u0026#34; ;; :remove \u0026#39;unread)) ;; lsp (use-package lsp-mode :ensure t :commands (lsp lsp-deferred) :hook (go-mode . lsp-deferred) :custom ;; what to use when checking on-save. \u0026#34;check\u0026#34; is default, I prefer clippy (lsp-rust-analyzer-cargo-watch-command \u0026#34;clippy\u0026#34;) (lsp-eldoc-render-all t) (lsp-idle-delay 0.6) ;; enable / disable the hints as you prefer: (lsp-inlay-hint-enable t) ;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list (lsp-rust-analyzer-display-lifetime-elision-hints-enable \u0026#34;skip_trivial\u0026#34;) (lsp-rust-analyzer-display-chaining-hints t) (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names nil) (lsp-rust-analyzer-display-closure-return-type-hints t) (lsp-rust-analyzer-display-parameter-hints nil) (lsp-rust-analyzer-display-reborrow-hints nil) :config (add-hook \u0026#39;lsp-mode-hook \u0026#39;lsp-ui-mode)) ;; Optional - provides fancier overlays. (use-package lsp-ui :ensure :commands lsp-ui-mode :custom (lsp-ui-peek-always-show t) (lsp-ui-sideline-show-hover t) (lsp-ui-doc-enable nil)) (use-package flycheck :ensure) ;;rust ;;refer: https://robert.kra.hn/posts/rust-emacs-setup/ (use-package rustic :ensure :bind (:map rustic-mode-map (\u0026#34;M-j\u0026#34; . lsp-ui-imenu) (\u0026#34;M-?\u0026#34; . lsp-find-references) (\u0026#34;C-c C-c l\u0026#34; . flycheck-list-errors) (\u0026#34;C-c C-c a\u0026#34; . lsp-execute-code-action) (\u0026#34;C-c C-c r\u0026#34; . lsp-rename) (\u0026#34;C-c C-c q\u0026#34; . lsp-workspace-restart) (\u0026#34;C-c C-c Q\u0026#34; . lsp-workspace-shutdown) (\u0026#34;C-c C-c s\u0026#34; . lsp-rust-analyzer-status)) :config ;; uncomment for less flashiness ;; (setq lsp-eldoc-hook nil) ;; (setq lsp-enable-symbol-highlighting nil) ;; (setq lsp-signature-auto-activate nil) ;; comment to disable rustfmt on save (setq rustic-format-on-save t) (add-hook \u0026#39;rustic-mode-hook \u0026#39;rk/rustic-mode-hook)) (defun rk/rustic-mode-hook () ;; so that run C-c C-c C-r works without having to confirm, but don\u0026#39;t try to ;; save rust buffers that are not file visiting. Once ;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should ;; no longer be necessary. (when buffer-file-name (setq-local buffer-save-without-query t)) (add-hook \u0026#39;before-save-hook \u0026#39;lsp-format-buffer nil t)) init.el ;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load ;; in. Remember to run \u0026#39;doom sync\u0026#39; after modifying it! ;; NOTE Press \u0026#39;SPC h d h\u0026#39; (or \u0026#39;C-h d h\u0026#39; for non-vim users) to access Doom\u0026#39;s ;; documentation. There you\u0026#39;ll find a \u0026#34;Module Index\u0026#34; link where you\u0026#39;ll find ;; a comprehensive list of Doom\u0026#39;s modules and what flags they support. ;; NOTE Move your cursor over a module\u0026#39;s name (or its flags) and press \u0026#39;K\u0026#39; (or ;; \u0026#39;C-c c k\u0026#39; for non-vim users) to view its documentation. This works on ;; flags as well (those symbols that start with a plus). ;; ;; Alternatively, press \u0026#39;gd\u0026#39; (or \u0026#39;C-c c d\u0026#39;) on a module to browse its ;; directory (for easy access to its source code). ;;; 添加中国源 ;;(setq package-archives \u0026#39;((\u0026#34;gnu\u0026#34; . \u0026#34;http://mirrors.ustc.edu.cn/elpa/gnu/\u0026#34;) ;; (\u0026#34;melpa\u0026#34; . \u0026#34;http://mirrors.ustc.edu.cn/elpa/melpa/\u0026#34;) ;; (\u0026#34;melpa-stable\u0026#34; . \u0026#34;http://mirrors.ustc.edu.cn/elpa/melpa-stable/\u0026#34;) ;; (\u0026#34;org\u0026#34; . \u0026#34;http://mirrors.ustc.edu.cn/elpa/org/\u0026#34;))) (doom! :input ;; chinese ;;japanese ;;layout ; auie,ctsrnm is the superior home row :completion company ; the ultimate code completion backend ;;helm ; the *other* search engine for love and life ;;ido ; the other *other* search engine... ivy ; a search engine for love and life vertico ; the search engine of the future :ui ;;deft ; notational velocity for Emacs doom ; what makes DOOM look the way it does doom-dashboard ; a nifty splash screen for Emacs doom-quit ; DOOM quit-message prompts when you quit Emacs ;;(emoji +unicode) ; 🙂 hl-todo ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW ;;hydra ;;indent-guides ; highlighted indent columns ;;ligatures ; ligatures and symbols to make your code pretty again ;;minimap ; show a map of the code on the side modeline ; snazzy, Atom-inspired modeline, plus API ;;nav-flash ; blink cursor line after big motions ;;neotree ; a project drawer, like NERDTree for vim ophints ; highlight the region an operation acts on (popup +defaults) ; tame sudden yet inevitable temporary windows ;;tabs ; a tab bar for Emacs treemacs ; a project drawer, like neotree but cooler ;;unicode ; extended unicode support for various languages vc-gutter ; vcs diff in the fringe vi-tilde-fringe ; fringe tildes to mark beyond EOB ;;window-select ; visually switch windows workspaces ; tab emulation, persistence \u0026amp; separate workspaces ;;zen ; distraction-free coding or writing :editor (evil +everywhere); come to the dark side, we have cookies file-templates ; auto-snippets for empty files fold ; (nigh) universal code folding (format +onsave) ; automated prettiness ;;god ; run Emacs commands without modifier keys ;;lispy ; vim for lisp, for people who don\u0026#39;t like vim ;;multiple-cursors ; editing in many places at once ;;objed ; text object editing for the innocent ;;parinfer ; turn lisp into python, sort of ;;rotate-text ; cycle region at point between text candidates snippets ; my elves. They type so I don\u0026#39;t have to word-wrap ; soft wrapping with language-aware indent :emacs dired ; making dired pretty [functional] electric ; smarter, keyword-based electric-indent ;;ibuffer ; interactive buffer management undo ; persistent, smarter undo for your inevitable mistakes vc ; version-control and Emacs, sitting in a tree :term eshell ; the elisp shell that works everywhere shell ; simple shell REPL for Emacs ;;term ; basic terminal emulator for Emacs vterm ; the best terminal emulation in Emacs :checkers syntax ; tasing you for every semicolon you forget ;;(spell +flyspell) ; tasing you for misspelling mispelling ;;grammar ; tasing grammar mistake every you make :tools ;;ansible ;;biblio ; Writes a PhD for you (citation needed) ;;debugger ; FIXME stepping through code, to help you add bugs ;;direnv ;;docker ;;editorconfig ; let someone else argue about tabs vs spaces ;;ein ; tame Jupyter notebooks with emacs (eval +overlay) ; run code, run (also, repls) ;;gist ; interacting with github gists lookup ; navigate your code and its documentation lsp ; M-x vscode magit ; a git porcelain for Emacs ;;make ; run make tasks from Emacs ;;pass ; password manager for nerds ;;pdf ; pdf enhancements ;;prodigy ; FIXME managing external services \u0026amp; code builders ;;rgb ; creating color strings ;;taskrunner ; taskrunner for all your projects ;;terraform ; infrastructure as code ;;tmux ; an API for interacting with tmux ;;upload ; map local to remote projects via ssh/ftp :os (:if IS-MAC macos) ; improve compatibility with macOS tty ; improve the terminal Emacs experience :lang ;;agda ; types of types of types of types... ;;beancount ; mind the GAAP ;;cc ; C \u0026gt; C++ == 1 ;;clojure ; java with a lisp ;;common-lisp ; if you\u0026#39;ve seen one lisp, you\u0026#39;ve seen them all ;;coq ; proofs-as-programs ;;crystal ; ruby at the speed of c ;;csharp ; unity, .NET, and mono shenanigans ;;data ; config/data formats ;;(dart +flutter) ; paint ui and not much else ;;dhall ;;elixir ; erlang done right ;;elm ; care for a cup of TEA? emacs-lisp ; drown in parentheses ;;erlang ; an elegant language for a more civilized age ;;ess ; emacs speaks statistics ;;factor ;;faust ; dsp, but you get to keep your soul ;;fortran ; in FORTRAN, GOD is REAL (unless declared INTEGER) ;;fsharp ; ML stands for Microsoft\u0026#39;s Language ;;fstar ; (dependent) types and (monadic) effects and Z3 ;;gdscript ; the language you waited for (go +lsp) ; the hipster dialect ;;(haskell +lsp) ; a language that\u0026#39;s lazier than I am ;;hy ; readability of scheme w/ speed of python ;;idris ; a language you can depend on json ; At least it ain\u0026#39;t XML ;;(java +meghanada) ; the poster child for carpal tunnel syndrome (java +lsp) javascript ; all(hope(abandon(ye(who(enter(here)))))) ;;julia ; a better, faster MATLAB ;;kotlin ; a better, slicker Java(Script) ;;latex ; writing papers in Emacs has never been so fun ;;lean ; for folks with too much to prove ;;ledger ; be audit you can be ;;lua ; one-based indices? one-based indices markdown ; writing docs for people to ignore ;;nim ; python + lisp at the speed of c ;;nix ; I hereby declare \u0026#34;nix geht mehr!\u0026#34; ;;ocaml ; an objective camel (org +pretty) ; organize your plain life in plain text ;;php ; perl\u0026#39;s insecure younger brother ;;plantuml ; diagrams for confusing people more ;;purescript ; javascript, but functional python ; beautiful is better than ugly ;;qt ; the \u0026#39;cutest\u0026#39; gui framework ever racket ; a DSL for DSLs ;;raku ; the artist formerly known as perl6 ;;rest ; Emacs as a REST client ;;rst ; ReST in peace ;;(ruby +rails) ; 1.step {|i| p \u0026#34;Ruby is #{i.even? ? \u0026#39;love\u0026#39; : \u0026#39;life\u0026#39;}\u0026#34;} ;;rust ; Fe2O3.unwrap().unwrap().unwrap().unwrap() ;;scala ; java, but good ;;(scheme +guile) ; a fully conniving family of lisps sh ; she sells {ba,z,fi}sh shells on the C xor ;;sml ;;solidity ; do you need a blockchain? No. ;;swift ; who asked for emoji variables? ;;terra ; Earth and Moon in alignment for performance. ;;web ; the tubes yaml ; JSON, but readable ;;zig ; C, but simpler :email ;;(mu4e +org +gmail) ;;notmuch ;;(wanderlust +gmail) :app ;;calendar ;;emms ;;everywhere ; *leave* Emacs!? You must be joking ;;irc ; how neckbeards socialize (rss +org) ; emacs as an RSS reader ;;twitter ; twitter client https://twitter.com/vnought :config ;;literate (default +bindings +smartparens)) packages.el ;; -*- no-byte-compile: t; -*- ;;; $DOOMDIR/packages.el ;; To install a package with Doom you must declare them here and run \u0026#39;doom sync\u0026#39; ;; on the command line, then restart Emacs for the changes to take effect -- or ;; use \u0026#39;M-x doom/reload\u0026#39;. ;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror: ;(package! some-package) ;; To install a package directly from a remote git repo, you must specify a ;; `:recipe\u0026#39;. You\u0026#39;ll find documentation on what `:recipe\u0026#39; accepts here: ;; https://github.com/raxod502/straight.el#the-recipe-format ;(package! another-package ; :recipe (:host github :repo \u0026#34;username/repo\u0026#34;)) ;; If the package you are trying to install does not contain a PACKAGENAME.el ;; file, or is located in a subdirectory of the repo, you\u0026#39;ll need to specify ;; `:files\u0026#39; in the `:recipe\u0026#39;: ;(package! this-package ; :recipe (:host github :repo \u0026#34;username/repo\u0026#34; ; :files (\u0026#34;some-file.el\u0026#34; \u0026#34;src/lisp/*.el\u0026#34;))) ;; If you\u0026#39;d like to disable a package included with Doom, you can do so here ;; with the `:disable\u0026#39; property: ;(package! builtin-package :disable t) ;; You can override the recipe of a built in package without having to specify ;; all the properties for `:recipe\u0026#39;. These will inherit the rest of its recipe ;; from Doom or MELPA/ELPA/Emacsmirror: ;(package! builtin-package :recipe (:nonrecursive t)) ;(package! builtin-package-2 :recipe (:repo \u0026#34;myfork/package\u0026#34;)) ;; Specify a `:branch\u0026#39; to install a package from a particular branch or tag. ;; This is required for some packages whose default branch isn\u0026#39;t \u0026#39;master\u0026#39; (which ;; our package manager can\u0026#39;t deal with; see raxod502/straight.el#279) ;(package! builtin-package :recipe (:branch \u0026#34;develop\u0026#34;)) ;; Use `:pin\u0026#39; to specify a particular commit to install. ;(package! builtin-package :pin \u0026#34;1a2b3c4d5e\u0026#34;) ;; Doom\u0026#39;s packages are pinned to a specific commit and updated from release to ;; release. The `unpin!\u0026#39; macro allows you to unpin single packages... ;(unpin! pinned-package) ;; ...or multiple packages ;(unpin! pinned-package another-pinned-package) ;; ...Or *all* packages (NOT RECOMMENDED; will likely break things) ;(unpin! t) (package! racket-mode) (package! spacemacs-theme) elfeed.org * root :elfeed: ** Programming :programming: *** https://www.reddit.com/r/functionalprogramming/.rss :Reddit: ** News :news: *** https://news.ycombinator.com/rss :Hack News: ",
  "keywords": [
    "emacs"
  ],
  "articleBody": "config.el ;;; $DOOMDIR/config.el -*- lexical-binding: t; -*- ;; Place your private configuration here! Remember, you do not need to run 'doom ;; sync' after modifying this file! ;; Some functionality uses this to identify you, e.g. GPG configuration, email ;; clients, file templates and snippets. (setq user-full-name \"Siquan\" user-mail-address \"xx@xx.com\") ;; Doom exposes five (optional) variables for controlling fonts in Doom. Here ;; are the three important ones: ;; ;; + `doom-font' ;; + `doom-variable-pitch-font' ;; + `doom-big-font' -- used for `doom-big-font-mode'; use this for ;; presentations or streaming. ;; ;; They all accept either a font-spec, font string (\"Input Mono-12\"), or xlfd ;; font string. You generally only need these two: ;;(setq doom-font (font-spec :family \"monaco\" :size 14 :weight 'semi-light) ;; doom-variable-pitch-font (font-spec :family \"sans\" :size 13)) ;; There are two ways to load a theme. Both assume the theme is installed and ;; available. You can either set `doom-theme' or manually load a theme with the ;; `load-theme' function. This is the default: (setq doom-theme 'doom-monokai-pro) ;; If you use `org' and don't want your org files in the default location below, ;; change `org-directory'. It must be set before org loads! (setq org-directory \"~/work/emacs-org/\") ;; This determines the style of line numbers in effect. If set to `nil', line ;; numbers are disabled. For relative line numbers, set this to `relative'. (setq display-line-numbers-type t) ;; Here are some additional functions/macros that could help you configure Doom: ;; ;; - `load!' for loading external *.el files relative to this one ;; - `use-package!' for configuring packages ;; - `after!' for running code after a package has loaded ;; - `add-load-path!' for adding directories to the `load-path', relative to ;; this file. Emacs searches the `load-path' when you load packages with ;; `require' or `use-package'. ;; - `map!' for binding new keys ;; ;; To get information about any of these functions/macros, move the cursor over ;; the highlighted symbol at press 'K' (non-evil users must press 'C-c c k'). ;; This will open documentation for it, including demos of how they are used. ;; ;; You can also try 'gd' (or 'C-c c d') to jump to their definition and see how ;; they are implemented. (custom-set-faces ;; custom-set-faces was added by Custom. ;; If you edit it by hand, you could mess it up, so be careful. ;; Your init file should contain only one such instance. ;; If there is more than one, they won't work right. '(default ((t (:family \"Monaco\" :foundry \"nil\" :slant normal :weight normal :height 150 :width normal)))) '(rainbow-delimiters-depth-1-face ((t (:inherit rainbow-delimiters-base-face :foreground \"light green\")))) '(rainbow-delimiters-depth-2-face ((t (:inherit rainbow-delimiters-base-face :foreground \"goldenrod2\")))) '(rainbow-delimiters-depth-3-face ((t (:inherit rainbow-delimiters-base-face :foreground \"dark magenta\")))) '(rainbow-delimiters-depth-4-face ((t (:inherit rainbow-delimiters-base-face :foreground \"dark cyan\")))) '(rainbow-delimiters-depth-5-face ((t (:inherit rainbow-delimiters-base-face :foreground \"dark blue\")))) '(rainbow-delimiters-depth-6-face ((t (:inherit rainbow-delimiters-base-face :foreground \"PaleVioletRed2\")))) '(rainbow-delimiters-depth-7-face ((t (:inherit rainbow-delimiters-base-face :foreground \"SpringGreen4\")))) '(rainbow-delimiters-depth-8-face ((t (:inherit rainbow-delimiters-base-face :foreground \"chocolate3\")))) '(rainbow-delimiters-depth-9-face ((t (:inherit rainbow-delimiters-base-face :foreground \"blue\"))))) (setq auto-save-default t) (run-with-idle-timer 5 t #'save-some-buffers t) (setq make-backup-files t) (setq confirm-kill-emacs nil) (set-frame-position (selected-frame) 0 0) (add-to-list 'default-frame-alist '(fullscreen . maximized)) (setq initial-frame-alist '((top . 1) (left . 1) (width . 114) (height . 32))) ;;org-mode (setq org-superstar-headline-bullets-list '(\"✿\" \"✸\" \"◉\" \"⁖\" \"○\" )) ;;(setq org-todo-keywords '((sequence \"TODO(t)\" \"STARTED(s!)\" \"WAITING(w@/!)\" \"|\" \"DONE(d@/!)\" \"CANCELLED(c@/!)\"))) (setf org-todo-keyword-faces '((\"TODO\" . (:foreground \"white\" :background \"#95A5A6\"))(\"STRT\". (:foreground \"white\" :background \"#2E8B57\"))(\"DONE\" . (:foreground \"white\" :background \"#3498DB\")))) (setq org-log-done 'time) (setq org-cycle-include-plain-lists t) (setq org-export-coding-system 'utf-8) (setq org-src-fontify-natively t) (setq org-html-doctype \"html5\") (setq org-html-xml-declaration nil) (setq org-html-head \"\\n\\n\") (org-babel-do-load-languages 'org-babel-load-languages '((emacs-lisp . t) (c . t) (java . t) (go . t) (racket . t) (python . t) (latex . t) (shell . t) (js . t) (lisp . t) (scheme . t))) (setq-default prettify-symbols-alist '((\"#+BEGIN_SRC\" . \"†\")(\"#+END_SRC\" . \"†\")(\"#+begin_src\" . \"†\") (\"#+end_src\" . \"†\") (\"\u003e=\" . \"≥\")(\"=\u003e\" . \"⇨\"))) (setq prettify-symbols-unprettify-at-point 'right-edge) (add-hook 'org-mode-hook 'prettify-symbols-mode) (setq org-adapt-indentation nil) : ;;auto-wrap (global-visual-line-mode 1) ;1 for on, 0 for off. ;;racket (require 'racket-mode) (setq racket-program \"/Applications/Racket v8.4/bin/racket\") (setq tab-always-indent 'complete) ;; 使用tab自动补全 (add-to-list 'auto-mode-alist '(\"\\\\.rkt\\\\'\" . racket-mode)) (add-to-list 'magic-mode-alist '(\"^#lang racket\" . :racket-mode)) ;;golang (setq lsp-gopls-staticcheck t) (setq lsp-eldoc-render-all t) (setq lsp-gopls-complete-unimported t) (setq lsp-gopls-codelens nil) ;; Set up before-save hooks to format buffer and add/delete imports. ;; Make sure you don't have other gofmt/goimports hooks enabled. (defun lsp-go-install-save-hooks () (add-hook 'before-save-hook #'lsp-format-buffer t t) (add-hook 'before-save-hook #'lsp-organize-imports t t)) (add-hook 'go-mode-hook #'lsp-go-install-save-hooks) ;; Company mode is a standard completion package that works well with lsp-mode. (use-package company :ensure t :config ;; Optionally enable completion-as-you-type behavior. (setq company-idle-delay 0) (setq company-minimum-prefix-length 1)) ;; Optional - provides snippet support. (use-package yasnippet :ensure t :commands yas-minor-mode :hook (go-mode . yas-minor-mode)) ;; language evniroment (set-language-environment 'UTF-8) (set-locale-environment \"UTF-8\") (define-coding-system-alias 'UTF-8 'utf-8) ;; elfeed (setq elfeed-db-directory \"~/work/emacs-org/elfeed\") (setq rmh-elfeed-org-files (list \"~/work/emacs-org/elfeed/elfeed.org\")) (add-hook! 'elfeed-search-mode-hook #'elfeed-update) ;;(add-hook 'elfeed-new-entry-hook ;; (elfeed-make-tagger :before \"2 weeks ago\" ;; :remove 'unread)) ;; lsp (use-package lsp-mode :ensure t :commands (lsp lsp-deferred) :hook (go-mode . lsp-deferred) :custom ;; what to use when checking on-save. \"check\" is default, I prefer clippy (lsp-rust-analyzer-cargo-watch-command \"clippy\") (lsp-eldoc-render-all t) (lsp-idle-delay 0.6) ;; enable / disable the hints as you prefer: (lsp-inlay-hint-enable t) ;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list (lsp-rust-analyzer-display-lifetime-elision-hints-enable \"skip_trivial\") (lsp-rust-analyzer-display-chaining-hints t) (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names nil) (lsp-rust-analyzer-display-closure-return-type-hints t) (lsp-rust-analyzer-display-parameter-hints nil) (lsp-rust-analyzer-display-reborrow-hints nil) :config (add-hook 'lsp-mode-hook 'lsp-ui-mode)) ;; Optional - provides fancier overlays. (use-package lsp-ui :ensure :commands lsp-ui-mode :custom (lsp-ui-peek-always-show t) (lsp-ui-sideline-show-hover t) (lsp-ui-doc-enable nil)) (use-package flycheck :ensure) ;;rust ;;refer: https://robert.kra.hn/posts/rust-emacs-setup/ (use-package rustic :ensure :bind (:map rustic-mode-map (\"M-j\" . lsp-ui-imenu) (\"M-?\" . lsp-find-references) (\"C-c C-c l\" . flycheck-list-errors) (\"C-c C-c a\" . lsp-execute-code-action) (\"C-c C-c r\" . lsp-rename) (\"C-c C-c q\" . lsp-workspace-restart) (\"C-c C-c Q\" . lsp-workspace-shutdown) (\"C-c C-c s\" . lsp-rust-analyzer-status)) :config ;; uncomment for less flashiness ;; (setq lsp-eldoc-hook nil) ;; (setq lsp-enable-symbol-highlighting nil) ;; (setq lsp-signature-auto-activate nil) ;; comment to disable rustfmt on save (setq rustic-format-on-save t) (add-hook 'rustic-mode-hook 'rk/rustic-mode-hook)) (defun rk/rustic-mode-hook () ;; so that run C-c C-c C-r works without having to confirm, but don't try to ;; save rust buffers that are not file visiting. Once ;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should ;; no longer be necessary. (when buffer-file-name (setq-local buffer-save-without-query t)) (add-hook 'before-save-hook 'lsp-format-buffer nil t)) init.el ;;; init.el -*- lexical-binding: t; -*- ;; This file controls what Doom modules are enabled and what order they load ;; in. Remember to run 'doom sync' after modifying it! ;; NOTE Press 'SPC h d h' (or 'C-h d h' for non-vim users) to access Doom's ;; documentation. There you'll find a \"Module Index\" link where you'll find ;; a comprehensive list of Doom's modules and what flags they support. ;; NOTE Move your cursor over a module's name (or its flags) and press 'K' (or ;; 'C-c c k' for non-vim users) to view its documentation. This works on ;; flags as well (those symbols that start with a plus). ;; ;; Alternatively, press 'gd' (or 'C-c c d') on a module to browse its ;; directory (for easy access to its source code). ;;; 添加中国源 ;;(setq package-archives '((\"gnu\" . \"http://mirrors.ustc.edu.cn/elpa/gnu/\") ;; (\"melpa\" . \"http://mirrors.ustc.edu.cn/elpa/melpa/\") ;; (\"melpa-stable\" . \"http://mirrors.ustc.edu.cn/elpa/melpa-stable/\") ;; (\"org\" . \"http://mirrors.ustc.edu.cn/elpa/org/\"))) (doom! :input ;; chinese ;;japanese ;;layout ; auie,ctsrnm is the superior home row :completion company ; the ultimate code completion backend ;;helm ; the *other* search engine for love and life ;;ido ; the other *other* search engine... ivy ; a search engine for love and life vertico ; the search engine of the future :ui ;;deft ; notational velocity for Emacs doom ; what makes DOOM look the way it does doom-dashboard ; a nifty splash screen for Emacs doom-quit ; DOOM quit-message prompts when you quit Emacs ;;(emoji +unicode) ; 🙂 hl-todo ; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW ;;hydra ;;indent-guides ; highlighted indent columns ;;ligatures ; ligatures and symbols to make your code pretty again ;;minimap ; show a map of the code on the side modeline ; snazzy, Atom-inspired modeline, plus API ;;nav-flash ; blink cursor line after big motions ;;neotree ; a project drawer, like NERDTree for vim ophints ; highlight the region an operation acts on (popup +defaults) ; tame sudden yet inevitable temporary windows ;;tabs ; a tab bar for Emacs treemacs ; a project drawer, like neotree but cooler ;;unicode ; extended unicode support for various languages vc-gutter ; vcs diff in the fringe vi-tilde-fringe ; fringe tildes to mark beyond EOB ;;window-select ; visually switch windows workspaces ; tab emulation, persistence \u0026 separate workspaces ;;zen ; distraction-free coding or writing :editor (evil +everywhere); come to the dark side, we have cookies file-templates ; auto-snippets for empty files fold ; (nigh) universal code folding (format +onsave) ; automated prettiness ;;god ; run Emacs commands without modifier keys ;;lispy ; vim for lisp, for people who don't like vim ;;multiple-cursors ; editing in many places at once ;;objed ; text object editing for the innocent ;;parinfer ; turn lisp into python, sort of ;;rotate-text ; cycle region at point between text candidates snippets ; my elves. They type so I don't have to word-wrap ; soft wrapping with language-aware indent :emacs dired ; making dired pretty [functional] electric ; smarter, keyword-based electric-indent ;;ibuffer ; interactive buffer management undo ; persistent, smarter undo for your inevitable mistakes vc ; version-control and Emacs, sitting in a tree :term eshell ; the elisp shell that works everywhere shell ; simple shell REPL for Emacs ;;term ; basic terminal emulator for Emacs vterm ; the best terminal emulation in Emacs :checkers syntax ; tasing you for every semicolon you forget ;;(spell +flyspell) ; tasing you for misspelling mispelling ;;grammar ; tasing grammar mistake every you make :tools ;;ansible ;;biblio ; Writes a PhD for you (citation needed) ;;debugger ; FIXME stepping through code, to help you add bugs ;;direnv ;;docker ;;editorconfig ; let someone else argue about tabs vs spaces ;;ein ; tame Jupyter notebooks with emacs (eval +overlay) ; run code, run (also, repls) ;;gist ; interacting with github gists lookup ; navigate your code and its documentation lsp ; M-x vscode magit ; a git porcelain for Emacs ;;make ; run make tasks from Emacs ;;pass ; password manager for nerds ;;pdf ; pdf enhancements ;;prodigy ; FIXME managing external services \u0026 code builders ;;rgb ; creating color strings ;;taskrunner ; taskrunner for all your projects ;;terraform ; infrastructure as code ;;tmux ; an API for interacting with tmux ;;upload ; map local to remote projects via ssh/ftp :os (:if IS-MAC macos) ; improve compatibility with macOS tty ; improve the terminal Emacs experience :lang ;;agda ; types of types of types of types... ;;beancount ; mind the GAAP ;;cc ; C \u003e C++ == 1 ;;clojure ; java with a lisp ;;common-lisp ; if you've seen one lisp, you've seen them all ;;coq ; proofs-as-programs ;;crystal ; ruby at the speed of c ;;csharp ; unity, .NET, and mono shenanigans ;;data ; config/data formats ;;(dart +flutter) ; paint ui and not much else ;;dhall ;;elixir ; erlang done right ;;elm ; care for a cup of TEA? emacs-lisp ; drown in parentheses ;;erlang ; an elegant language for a more civilized age ;;ess ; emacs speaks statistics ;;factor ;;faust ; dsp, but you get to keep your soul ;;fortran ; in FORTRAN, GOD is REAL (unless declared INTEGER) ;;fsharp ; ML stands for Microsoft's Language ;;fstar ; (dependent) types and (monadic) effects and Z3 ;;gdscript ; the language you waited for (go +lsp) ; the hipster dialect ;;(haskell +lsp) ; a language that's lazier than I am ;;hy ; readability of scheme w/ speed of python ;;idris ; a language you can depend on json ; At least it ain't XML ;;(java +meghanada) ; the poster child for carpal tunnel syndrome (java +lsp) javascript ; all(hope(abandon(ye(who(enter(here)))))) ;;julia ; a better, faster MATLAB ;;kotlin ; a better, slicker Java(Script) ;;latex ; writing papers in Emacs has never been so fun ;;lean ; for folks with too much to prove ;;ledger ; be audit you can be ;;lua ; one-based indices? one-based indices markdown ; writing docs for people to ignore ;;nim ; python + lisp at the speed of c ;;nix ; I hereby declare \"nix geht mehr!\" ;;ocaml ; an objective camel (org +pretty) ; organize your plain life in plain text ;;php ; perl's insecure younger brother ;;plantuml ; diagrams for confusing people more ;;purescript ; javascript, but functional python ; beautiful is better than ugly ;;qt ; the 'cutest' gui framework ever racket ; a DSL for DSLs ;;raku ; the artist formerly known as perl6 ;;rest ; Emacs as a REST client ;;rst ; ReST in peace ;;(ruby +rails) ; 1.step {|i| p \"Ruby is #{i.even? ? 'love' : 'life'}\"} ;;rust ; Fe2O3.unwrap().unwrap().unwrap().unwrap() ;;scala ; java, but good ;;(scheme +guile) ; a fully conniving family of lisps sh ; she sells {ba,z,fi}sh shells on the C xor ;;sml ;;solidity ; do you need a blockchain? No. ;;swift ; who asked for emoji variables? ;;terra ; Earth and Moon in alignment for performance. ;;web ; the tubes yaml ; JSON, but readable ;;zig ; C, but simpler :email ;;(mu4e +org +gmail) ;;notmuch ;;(wanderlust +gmail) :app ;;calendar ;;emms ;;everywhere ; *leave* Emacs!? You must be joking ;;irc ; how neckbeards socialize (rss +org) ; emacs as an RSS reader ;;twitter ; twitter client https://twitter.com/vnought :config ;;literate (default +bindings +smartparens)) packages.el ;; -*- no-byte-compile: t; -*- ;;; $DOOMDIR/packages.el ;; To install a package with Doom you must declare them here and run 'doom sync' ;; on the command line, then restart Emacs for the changes to take effect -- or ;; use 'M-x doom/reload'. ;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror: ;(package! some-package) ;; To install a package directly from a remote git repo, you must specify a ;; `:recipe'. You'll find documentation on what `:recipe' accepts here: ;; https://github.com/raxod502/straight.el#the-recipe-format ;(package! another-package ; :recipe (:host github :repo \"username/repo\")) ;; If the package you are trying to install does not contain a PACKAGENAME.el ;; file, or is located in a subdirectory of the repo, you'll need to specify ;; `:files' in the `:recipe': ;(package! this-package ; :recipe (:host github :repo \"username/repo\" ; :files (\"some-file.el\" \"src/lisp/*.el\"))) ;; If you'd like to disable a package included with Doom, you can do so here ;; with the `:disable' property: ;(package! builtin-package :disable t) ;; You can override the recipe of a built in package without having to specify ;; all the properties for `:recipe'. These will inherit the rest of its recipe ;; from Doom or MELPA/ELPA/Emacsmirror: ;(package! builtin-package :recipe (:nonrecursive t)) ;(package! builtin-package-2 :recipe (:repo \"myfork/package\")) ;; Specify a `:branch' to install a package from a particular branch or tag. ;; This is required for some packages whose default branch isn't 'master' (which ;; our package manager can't deal with; see raxod502/straight.el#279) ;(package! builtin-package :recipe (:branch \"develop\")) ;; Use `:pin' to specify a particular commit to install. ;(package! builtin-package :pin \"1a2b3c4d5e\") ;; Doom's packages are pinned to a specific commit and updated from release to ;; release. The `unpin!' macro allows you to unpin single packages... ;(unpin! pinned-package) ;; ...or multiple packages ;(unpin! pinned-package another-pinned-package) ;; ...Or *all* packages (NOT RECOMMENDED; will likely break things) ;(unpin! t) (package! racket-mode) (package! spacemacs-theme) elfeed.org * root :elfeed: ** Programming :programming: *** https://www.reddit.com/r/functionalprogramming/.rss :Reddit: ** News :news: *** https://news.ycombinator.com/rss :Hack News: ",
  "wordCount" : "2736",
  "inLanguage": "zh",
  "datePublished": "2022-02-23T08:58:54+08:00",
  "dateModified": "2022-02-23T08:58:54+08:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://continuation.cn/2022/02/my-doom-emacs-config/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "思泉笔谈 | AI-Life",
    "logo": {
      "@type": "ImageObject",
      "url": "https://continuation.cn/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://continuation.cn/" accesskey="h" title="思泉笔谈 | AI-Life (Alt + H)">思泉笔谈 | AI-Life</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://continuation.cn/" title="Home">
                    <span>Home</span>
                </a>
            </li>
            <li>
                <a href="https://continuation.cn/posts" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://continuation.cn/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://continuation.cn/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
            <li>
                <a href="https://continuation.cn/about" title="About">
                    <span>About</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      我的Doom Emacs配置
    </h1>
    <div class="post-meta"><span title='2022-02-23 08:58:54 +0800 CST'>二月 23, 2022</span>

</div>
  </header> 
  <div class="post-content"><h3 id="configel">config.el<a hidden class="anchor" aria-hidden="true" href="#configel">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#75715e">;;; $DOOMDIR/config.el -*- lexical-binding: t; -*-</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Place your private configuration here! Remember, you do not need to run &#39;doom</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; sync&#39; after modifying this file!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Some functionality uses this to identify you, e.g. GPG configuration, email</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; clients, file templates and snippets.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> user-full-name <span style="color:#e6db74">&#34;Siquan&#34;</span>
</span></span><span style="display:flex;"><span>      user-mail-address <span style="color:#e6db74">&#34;xx@xx.com&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Doom exposes five (optional) variables for controlling fonts in Doom. Here</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; are the three important ones:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; + `doom-font&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; + `doom-variable-pitch-font&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; + `doom-big-font&#39; -- used for `doom-big-font-mode&#39;; use this for</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;   presentations or streaming.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; They all accept either a font-spec, font string (&#34;Input Mono-12&#34;), or xlfd</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; font string. You generally only need these two:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(setq doom-font (font-spec :family &#34;monaco&#34; :size 14 :weight &#39;semi-light)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;       doom-variable-pitch-font (font-spec :family &#34;sans&#34; :size 13))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; There are two ways to load a theme. Both assume the theme is installed and</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; available. You can either set `doom-theme&#39; or manually load a theme with the</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; `load-theme&#39; function. This is the default:</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> doom-theme <span style="color:#e6db74">&#39;doom-monokai-pro</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; If you use `org&#39; and don&#39;t want your org files in the default location below,</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; change `org-directory&#39;. It must be set before org loads!</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-directory <span style="color:#e6db74">&#34;~/work/emacs-org/&#34;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; This determines the style of line numbers in effect. If set to `nil&#39;, line</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; numbers are disabled. For relative line numbers, set this to `relative&#39;.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> display-line-numbers-type <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Here are some additional functions/macros that could help you configure Doom:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; - `load!&#39; for loading external *.el files relative to this one</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; - `use-package!&#39; for configuring packages</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; - `after!&#39; for running code after a package has loaded</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; - `add-load-path!&#39; for adding directories to the `load-path&#39;, relative to</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;   this file. Emacs searches the `load-path&#39; when you load packages with</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;   `require&#39; or `use-package&#39;.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; - `map!&#39; for binding new keys</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; To get information about any of these functions/macros, move the cursor over</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; the highlighted symbol at press &#39;K&#39; (non-evil users must press &#39;C-c c k&#39;).</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; This will open documentation for it, including demos of how they are used.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; You can also try &#39;gd&#39; (or &#39;C-c c d&#39;) to jump to their definition and see how</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; they are implemented.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(custom-set-faces
</span></span><span style="display:flex;"><span> <span style="color:#75715e">;; custom-set-faces was added by Custom.</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">;; If you edit it by hand, you could mess it up, so be careful.</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">;; Your init file should contain only one such instance.</span>
</span></span><span style="display:flex;"><span> <span style="color:#75715e">;; If there is more than one, they won&#39;t work right.</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(default ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:family</span> <span style="color:#e6db74">&#34;Monaco&#34;</span> <span style="color:#e6db74">:foundry</span> <span style="color:#e6db74">&#34;nil&#34;</span> <span style="color:#e6db74">:slant</span> normal <span style="color:#e6db74">:weight</span> normal <span style="color:#e6db74">:height</span> <span style="color:#ae81ff">150</span> <span style="color:#e6db74">:width</span> normal))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-1-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;light green&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-2-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;goldenrod2&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-3-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;dark magenta&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-4-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;dark cyan&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-5-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;dark blue&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-6-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;PaleVioletRed2&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-7-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;SpringGreen4&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-8-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;chocolate3&#34;</span>))))
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>(rainbow-delimiters-depth-9-face ((<span style="color:#66d9ef">t</span> (<span style="color:#e6db74">:inherit</span> rainbow-delimiters-base-face <span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;blue&#34;</span>)))))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> auto-save-default <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(run-with-idle-timer <span style="color:#ae81ff">5</span> <span style="color:#66d9ef">t</span> <span style="color:#a6e22e">#&#39;</span>save-some-buffers <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> make-backup-files <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> confirm-kill-emacs <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>(set-frame-position (selected-frame) <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;default-frame-alist</span> <span style="color:#f92672">&#39;</span>(fullscreen <span style="color:#f92672">.</span> maximized))
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> initial-frame-alist <span style="color:#f92672">&#39;</span>((top <span style="color:#f92672">.</span> <span style="color:#ae81ff">1</span>) (left <span style="color:#f92672">.</span> <span style="color:#ae81ff">1</span>) (width <span style="color:#f92672">.</span> <span style="color:#ae81ff">114</span>) (height <span style="color:#f92672">.</span> <span style="color:#ae81ff">32</span>)))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;org-mode</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-superstar-headline-bullets-list <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;✿&#34;</span> <span style="color:#e6db74">&#34;✸&#34;</span> <span style="color:#e6db74">&#34;◉&#34;</span> <span style="color:#e6db74">&#34;⁖&#34;</span> <span style="color:#e6db74">&#34;○&#34;</span> ))
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(setq org-todo-keywords &#39;((sequence &#34;TODO(t)&#34; &#34;STARTED(s!)&#34; &#34;WAITING(w@/!)&#34; &#34;|&#34; &#34;DONE(d@/!)&#34; &#34;CANCELLED(c@/!)&#34;)))</span>
</span></span><span style="display:flex;"><span>(setf org-todo-keyword-faces <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;TODO&#34;</span> <span style="color:#f92672">.</span> (<span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#e6db74">:background</span> <span style="color:#e6db74">&#34;#95A5A6&#34;</span>))(<span style="color:#e6db74">&#34;STRT&#34;</span><span style="color:#f92672">.</span> (<span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#e6db74">:background</span> <span style="color:#e6db74">&#34;#2E8B57&#34;</span>))(<span style="color:#e6db74">&#34;DONE&#34;</span> <span style="color:#f92672">.</span> (<span style="color:#e6db74">:foreground</span> <span style="color:#e6db74">&#34;white&#34;</span> <span style="color:#e6db74">:background</span> <span style="color:#e6db74">&#34;#3498DB&#34;</span>))))
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-log-done <span style="color:#e6db74">&#39;time</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-cycle-include-plain-lists <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-export-coding-system <span style="color:#e6db74">&#39;utf-8</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-src-fontify-natively <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-html-doctype <span style="color:#e6db74">&#34;html5&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-html-xml-declaration <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-html-head <span style="color:#e6db74">&#34;&lt;link rel=&#39;stylesheet&#39; href=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css&#39; integrity=&#39;sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn&#39; crossorigin=&#39;anonymous&#39;&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js&#39; integrity=&#39;sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;\n&lt;script src=&#39;https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.min.js&#39; integrity=&#39;sha384-VHvPCCyXqtD5DqJeNxl2dtTyhF78xXNXdkwX1CZeRusQfRKp+tA7hAShOK/B/fQ2&#39; crossorigin=&#39;anonymous&#39;&gt;&lt;/script&gt;&#34;</span>)
</span></span><span style="display:flex;"><span>(org-babel-do-load-languages
</span></span><span style="display:flex;"><span> <span style="color:#e6db74">&#39;org-babel-load-languages</span>
</span></span><span style="display:flex;"><span> <span style="color:#f92672">&#39;</span>((emacs-lisp <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (c <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (java <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (<span style="color:#66d9ef">go</span> <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (racket <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (python <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (latex <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (shell <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (js <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (lisp <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>   (scheme <span style="color:#f92672">.</span> <span style="color:#66d9ef">t</span>)))
</span></span><span style="display:flex;"><span>(setq-default prettify-symbols-alist <span style="color:#f92672">&#39;</span>((<span style="color:#e6db74">&#34;#+BEGIN_SRC&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;†&#34;</span>)(<span style="color:#e6db74">&#34;#+END_SRC&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;†&#34;</span>)(<span style="color:#e6db74">&#34;#+begin_src&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;†&#34;</span>) (<span style="color:#e6db74">&#34;#+end_src&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;†&#34;</span>) (<span style="color:#e6db74">&#34;&gt;=&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;≥&#34;</span>)(<span style="color:#e6db74">&#34;=&gt;&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">&#34;⇨&#34;</span>)))
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> prettify-symbols-unprettify-at-point <span style="color:#e6db74">&#39;right-edge</span>)
</span></span><span style="display:flex;"><span>(add-hook <span style="color:#e6db74">&#39;org-mode-hook</span> <span style="color:#e6db74">&#39;prettify-symbols-mode</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> org-adapt-indentation <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#960050;background-color:#1e0010">:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;auto-wrap</span>
</span></span><span style="display:flex;"><span>(global-visual-line-mode <span style="color:#ae81ff">1</span>)  <span style="color:#75715e">;1 for on, 0 for off.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;racket</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">require</span> <span style="color:#e6db74">&#39;racket-mode</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> racket-program <span style="color:#e6db74">&#34;/Applications/Racket v8.4/bin/racket&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> tab-always-indent <span style="color:#e6db74">&#39;complete</span>) <span style="color:#75715e">;; 使用tab自动补全</span>
</span></span><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;auto-mode-alist</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;\\.rkt\\&#39;&#34;</span> <span style="color:#f92672">.</span> racket-mode))
</span></span><span style="display:flex;"><span>(add-to-list <span style="color:#e6db74">&#39;magic-mode-alist</span> <span style="color:#f92672">&#39;</span>(<span style="color:#e6db74">&#34;^#lang racket&#34;</span> <span style="color:#f92672">.</span> <span style="color:#e6db74">:racket-mode</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;golang</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> lsp-gopls-staticcheck <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> lsp-eldoc-render-all <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> lsp-gopls-complete-unimported <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> lsp-gopls-codelens <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Set up before-save hooks to format buffer and add/delete imports.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Make sure you don&#39;t have other gofmt/goimports hooks enabled.</span>
</span></span><span style="display:flex;"><span>(defun lsp-go-install-save-hooks ()
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;before-save-hook</span> <span style="color:#a6e22e">#&#39;</span>lsp-format-buffer <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;before-save-hook</span> <span style="color:#a6e22e">#&#39;</span>lsp-organize-imports <span style="color:#66d9ef">t</span> <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>(add-hook <span style="color:#e6db74">&#39;go-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>lsp-go-install-save-hooks)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Company mode is a standard completion package that works well with lsp-mode.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> company
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:ensure</span> <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; Optionally enable completion-as-you-type behavior.</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">setq</span> company-idle-delay <span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">setq</span> company-minimum-prefix-length <span style="color:#ae81ff">1</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Optional - provides snippet support.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> yasnippet
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:ensure</span> <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:commands</span> yas-minor-mode
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:hook</span> (go-mode <span style="color:#f92672">.</span> yas-minor-mode))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; language evniroment</span>
</span></span><span style="display:flex;"><span>(set-language-environment <span style="color:#e6db74">&#39;UTF-8</span>)
</span></span><span style="display:flex;"><span>(set-locale-environment <span style="color:#e6db74">&#34;UTF-8&#34;</span>)
</span></span><span style="display:flex;"><span>(define-coding-system-alias <span style="color:#e6db74">&#39;UTF-8</span> <span style="color:#e6db74">&#39;utf-8</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; elfeed</span>
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> elfeed-db-directory <span style="color:#e6db74">&#34;~/work/emacs-org/elfeed&#34;</span>)
</span></span><span style="display:flex;"><span>(<span style="color:#66d9ef">setq</span> rmh-elfeed-org-files (<span style="color:#a6e22e">list</span> <span style="color:#e6db74">&#34;~/work/emacs-org/elfeed/elfeed.org&#34;</span>))
</span></span><span style="display:flex;"><span>(add-hook! <span style="color:#e6db74">&#39;elfeed-search-mode-hook</span> <span style="color:#a6e22e">#&#39;</span>elfeed-update)
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(add-hook &#39;elfeed-new-entry-hook</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;          (elfeed-make-tagger :before &#34;2 weeks ago&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;                              :remove &#39;unread))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; lsp</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> lsp-mode
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:ensure</span> <span style="color:#66d9ef">t</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:commands</span> (lsp lsp-deferred)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:hook</span> (go-mode <span style="color:#f92672">.</span> lsp-deferred)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:custom</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; what to use when checking on-save. &#34;check&#34; is default, I prefer clippy</span>
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-cargo-watch-command <span style="color:#e6db74">&#34;clippy&#34;</span>)
</span></span><span style="display:flex;"><span>  (lsp-eldoc-render-all <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (lsp-idle-delay <span style="color:#ae81ff">0.6</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; enable / disable the hints as you prefer:</span>
</span></span><span style="display:flex;"><span>  (lsp-inlay-hint-enable <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; These are optional configurations. See https://emacs-lsp.github.io/lsp-mode/page/lsp-rust-analyzer/#lsp-rust-analyzer-display-chaining-hints for a full list</span>
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-lifetime-elision-hints-enable <span style="color:#e6db74">&#34;skip_trivial&#34;</span>)
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-chaining-hints <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-lifetime-elision-hints-use-parameter-names <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-closure-return-type-hints <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-parameter-hints <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  (lsp-rust-analyzer-display-reborrow-hints <span style="color:#66d9ef">nil</span>)
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:config</span>
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;lsp-mode-hook</span> <span style="color:#e6db74">&#39;lsp-ui-mode</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Optional - provides fancier overlays.</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> lsp-ui
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:ensure</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:commands</span> lsp-ui-mode
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:custom</span>
</span></span><span style="display:flex;"><span>  (lsp-ui-peek-always-show <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (lsp-ui-sideline-show-hover <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (lsp-ui-doc-enable <span style="color:#66d9ef">nil</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> flycheck <span style="color:#e6db74">:ensure</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;rust</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;refer: https://robert.kra.hn/posts/rust-emacs-setup/</span>
</span></span><span style="display:flex;"><span>(<span style="color:#a6e22e">use-package</span> rustic
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:ensure</span>
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:bind</span> (<span style="color:#e6db74">:map</span> rustic-mode-map
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;M-j&#34;</span> <span style="color:#f92672">.</span> lsp-ui-imenu)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;M-?&#34;</span> <span style="color:#f92672">.</span> lsp-find-references)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c l&#34;</span> <span style="color:#f92672">.</span> flycheck-list-errors)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c a&#34;</span> <span style="color:#f92672">.</span> lsp-execute-code-action)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c r&#34;</span> <span style="color:#f92672">.</span> lsp-rename)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c q&#34;</span> <span style="color:#f92672">.</span> lsp-workspace-restart)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c Q&#34;</span> <span style="color:#f92672">.</span> lsp-workspace-shutdown)
</span></span><span style="display:flex;"><span>              (<span style="color:#e6db74">&#34;C-c C-c s&#34;</span> <span style="color:#f92672">.</span> lsp-rust-analyzer-status))
</span></span><span style="display:flex;"><span>  <span style="color:#e6db74">:config</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; uncomment for less flashiness</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; (setq lsp-eldoc-hook nil)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; (setq lsp-enable-symbol-highlighting nil)</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; (setq lsp-signature-auto-activate nil)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; comment to disable rustfmt on save</span>
</span></span><span style="display:flex;"><span>  (<span style="color:#66d9ef">setq</span> rustic-format-on-save <span style="color:#66d9ef">t</span>)
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;rustic-mode-hook</span> <span style="color:#e6db74">&#39;rk/rustic-mode-hook</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(defun rk/rustic-mode-hook ()
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; so that run C-c C-c C-r works without having to confirm, but don&#39;t try to</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; save rust buffers that are not file visiting. Once</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; https://github.com/brotzeit/rustic/issues/253 has been resolved this should</span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">;; no longer be necessary.</span>
</span></span><span style="display:flex;"><span>  (when buffer-file-name
</span></span><span style="display:flex;"><span>    (setq-local buffer-save-without-query <span style="color:#66d9ef">t</span>))
</span></span><span style="display:flex;"><span>  (add-hook <span style="color:#e6db74">&#39;before-save-hook</span> <span style="color:#e6db74">&#39;lsp-format-buffer</span> <span style="color:#66d9ef">nil</span> <span style="color:#66d9ef">t</span>))
</span></span></code></pre></div><h3 id="initel">init.el<a hidden class="anchor" aria-hidden="true" href="#initel">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#75715e">;;; init.el -*- lexical-binding: t; -*-</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; This file controls what Doom modules are enabled and what order they load</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; in. Remember to run &#39;doom sync&#39; after modifying it!</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; NOTE Press &#39;SPC h d h&#39; (or &#39;C-h d h&#39; for non-vim users) to access Doom&#39;s</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      documentation. There you&#39;ll find a &#34;Module Index&#34; link where you&#39;ll find</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      a comprehensive list of Doom&#39;s modules and what flags they support.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; NOTE Move your cursor over a module&#39;s name (or its flags) and press &#39;K&#39; (or</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      &#39;C-c c k&#39; for non-vim users) to view its documentation. This works on</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      flags as well (those symbols that start with a plus).</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      Alternatively, press &#39;gd&#39; (or &#39;C-c c d&#39;) on a module to browse its</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;      directory (for easy access to its source code).</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; 添加中国源</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;(setq package-archives &#39;((&#34;gnu&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/gnu/&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;                         (&#34;melpa&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa/&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;                         (&#34;melpa-stable&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/melpa-stable/&#34;)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;                         (&#34;org&#34; . &#34;http://mirrors.ustc.edu.cn/elpa/org/&#34;)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(doom! <span style="color:#e6db74">:input</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;; chinese</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;japanese</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;layout            ; auie,ctsrnm is the superior home row</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:completion</span>
</span></span><span style="display:flex;"><span>       company           <span style="color:#75715e">; the ultimate code completion backend</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;helm              ; the *other* search engine for love and life</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ido               ; the other *other* search engine...</span>
</span></span><span style="display:flex;"><span>       ivy               <span style="color:#75715e">; a search engine for love and life</span>
</span></span><span style="display:flex;"><span>       vertico           <span style="color:#75715e">; the search engine of the future</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:ui</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;deft              ; notational velocity for Emacs</span>
</span></span><span style="display:flex;"><span>       doom              <span style="color:#75715e">; what makes DOOM look the way it does</span>
</span></span><span style="display:flex;"><span>       doom-dashboard    <span style="color:#75715e">; a nifty splash screen for Emacs</span>
</span></span><span style="display:flex;"><span>       doom-quit         <span style="color:#75715e">; DOOM quit-message prompts when you quit Emacs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(emoji +unicode)  ; 🙂</span>
</span></span><span style="display:flex;"><span>       hl-todo           <span style="color:#75715e">; highlight TODO/FIXME/NOTE/DEPRECATED/HACK/REVIEW</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;hydra</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;indent-guides     ; highlighted indent columns</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ligatures         ; ligatures and symbols to make your code pretty again</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;minimap           ; show a map of the code on the side</span>
</span></span><span style="display:flex;"><span>       modeline          <span style="color:#75715e">; snazzy, Atom-inspired modeline, plus API</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;nav-flash         ; blink cursor line after big motions</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;neotree           ; a project drawer, like NERDTree for vim</span>
</span></span><span style="display:flex;"><span>       ophints           <span style="color:#75715e">; highlight the region an operation acts on</span>
</span></span><span style="display:flex;"><span>       (popup +defaults)   <span style="color:#75715e">; tame sudden yet inevitable temporary windows</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;tabs              ; a tab bar for Emacs</span>
</span></span><span style="display:flex;"><span>       treemacs          <span style="color:#75715e">; a project drawer, like neotree but cooler</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;unicode           ; extended unicode support for various languages</span>
</span></span><span style="display:flex;"><span>       vc-gutter         <span style="color:#75715e">; vcs diff in the fringe</span>
</span></span><span style="display:flex;"><span>       vi-tilde-fringe   <span style="color:#75715e">; fringe tildes to mark beyond EOB</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;window-select     ; visually switch windows</span>
</span></span><span style="display:flex;"><span>       workspaces        <span style="color:#75715e">; tab emulation, persistence &amp; separate workspaces</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;zen               ; distraction-free coding or writing</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:editor</span>
</span></span><span style="display:flex;"><span>       (evil +everywhere)<span style="color:#75715e">; come to the dark side, we have cookies</span>
</span></span><span style="display:flex;"><span>       file-templates    <span style="color:#75715e">; auto-snippets for empty files</span>
</span></span><span style="display:flex;"><span>       fold              <span style="color:#75715e">; (nigh) universal code folding</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">format</span> +onsave)  <span style="color:#75715e">; automated prettiness</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;god               ; run Emacs commands without modifier keys</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;lispy             ; vim for lisp, for people who don&#39;t like vim</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;multiple-cursors  ; editing in many places at once</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;objed             ; text object editing for the innocent</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;parinfer          ; turn lisp into python, sort of</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;rotate-text       ; cycle region at point between text candidates</span>
</span></span><span style="display:flex;"><span>       snippets          <span style="color:#75715e">; my elves. They type so I don&#39;t have to</span>
</span></span><span style="display:flex;"><span>       word-wrap         <span style="color:#75715e">; soft wrapping with language-aware indent</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:emacs</span>
</span></span><span style="display:flex;"><span>       dired             <span style="color:#75715e">; making dired pretty [functional]</span>
</span></span><span style="display:flex;"><span>       electric          <span style="color:#75715e">; smarter, keyword-based electric-indent</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ibuffer         ; interactive buffer management</span>
</span></span><span style="display:flex;"><span>       undo              <span style="color:#75715e">; persistent, smarter undo for your inevitable mistakes</span>
</span></span><span style="display:flex;"><span>       vc                <span style="color:#75715e">; version-control and Emacs, sitting in a tree</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:term</span>
</span></span><span style="display:flex;"><span>       eshell            <span style="color:#75715e">; the elisp shell that works everywhere</span>
</span></span><span style="display:flex;"><span>       shell             <span style="color:#75715e">; simple shell REPL for Emacs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;term              ; basic terminal emulator for Emacs</span>
</span></span><span style="display:flex;"><span>       vterm             <span style="color:#75715e">; the best terminal emulation in Emacs</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:checkers</span>
</span></span><span style="display:flex;"><span>       syntax              <span style="color:#75715e">; tasing you for every semicolon you forget</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(spell +flyspell) ; tasing you for misspelling mispelling</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;grammar           ; tasing grammar mistake every you make</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:tools</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ansible</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;biblio            ; Writes a PhD for you (citation needed)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;debugger          ; FIXME stepping through code, to help you add bugs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;direnv</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;docker</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;editorconfig      ; let someone else argue about tabs vs spaces</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ein               ; tame Jupyter notebooks with emacs</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#a6e22e">eval</span> +overlay)     <span style="color:#75715e">; run code, run (also, repls)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;gist              ; interacting with github gists</span>
</span></span><span style="display:flex;"><span>       lookup              <span style="color:#75715e">; navigate your code and its documentation</span>
</span></span><span style="display:flex;"><span>       lsp               <span style="color:#75715e">; M-x vscode</span>
</span></span><span style="display:flex;"><span>       magit             <span style="color:#75715e">; a git porcelain for Emacs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;make              ; run make tasks from Emacs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;pass              ; password manager for nerds</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;pdf               ; pdf enhancements</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;prodigy           ; FIXME managing external services &amp; code builders</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;rgb               ; creating color strings</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;taskrunner        ; taskrunner for all your projects</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;terraform         ; infrastructure as code</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;tmux              ; an API for interacting with tmux</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;upload            ; map local to remote projects via ssh/ftp</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:os</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#e6db74">:if</span> IS-MAC macos)  <span style="color:#75715e">; improve compatibility with macOS</span>
</span></span><span style="display:flex;"><span>       tty               <span style="color:#75715e">; improve the terminal Emacs experience</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:lang</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;agda              ; types of types of types of types...</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;beancount         ; mind the GAAP</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;cc                ; C &gt; C++ == 1</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;clojure           ; java with a lisp</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;common-lisp       ; if you&#39;ve seen one lisp, you&#39;ve seen them all</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;coq               ; proofs-as-programs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;crystal           ; ruby at the speed of c</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;csharp            ; unity, .NET, and mono shenanigans</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;data              ; config/data formats</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(dart +flutter)   ; paint ui and not much else</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;dhall</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;elixir            ; erlang done right</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;elm               ; care for a cup of TEA?</span>
</span></span><span style="display:flex;"><span>       emacs-lisp        <span style="color:#75715e">; drown in parentheses</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;erlang            ; an elegant language for a more civilized age</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ess               ; emacs speaks statistics</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;factor</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;faust             ; dsp, but you get to keep your soul</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;fortran           ; in FORTRAN, GOD is REAL (unless declared INTEGER)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;fsharp            ; ML stands for Microsoft&#39;s Language</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;fstar             ; (dependent) types and (monadic) effects and Z3</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;gdscript          ; the language you waited for</span>
</span></span><span style="display:flex;"><span>       (<span style="color:#66d9ef">go</span> +lsp)         <span style="color:#75715e">; the hipster dialect</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(haskell +lsp)    ; a language that&#39;s lazier than I am</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;hy                ; readability of scheme w/ speed of python</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;idris             ; a language you can depend on</span>
</span></span><span style="display:flex;"><span>       json              <span style="color:#75715e">; At least it ain&#39;t XML</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(java +meghanada) ; the poster child for carpal tunnel syndrome</span>
</span></span><span style="display:flex;"><span>       (java +lsp)
</span></span><span style="display:flex;"><span>       javascript        <span style="color:#75715e">; all(hope(abandon(ye(who(enter(here))))))</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;julia             ; a better, faster MATLAB</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;kotlin            ; a better, slicker Java(Script)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;latex             ; writing papers in Emacs has never been so fun</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;lean              ; for folks with too much to prove</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ledger            ; be audit you can be</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;lua               ; one-based indices? one-based indices</span>
</span></span><span style="display:flex;"><span>       markdown          <span style="color:#75715e">; writing docs for people to ignore</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;nim               ; python + lisp at the speed of c</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;nix               ; I hereby declare &#34;nix geht mehr!&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;ocaml             ; an objective camel</span>
</span></span><span style="display:flex;"><span>       (org +pretty)               <span style="color:#75715e">; organize your plain life in plain text</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;php               ; perl&#39;s insecure younger brother</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;plantuml          ; diagrams for confusing people more</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;purescript        ; javascript, but functional</span>
</span></span><span style="display:flex;"><span>       python            <span style="color:#75715e">; beautiful is better than ugly</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;qt                ; the &#39;cutest&#39; gui framework ever</span>
</span></span><span style="display:flex;"><span>       racket            <span style="color:#75715e">; a DSL for DSLs</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;raku              ; the artist formerly known as perl6</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;rest              ; Emacs as a REST client</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;rst               ; ReST in peace</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(ruby +rails)     ; 1.step {|i| p &#34;Ruby is #{i.even? ? &#39;love&#39; : &#39;life&#39;}&#34;}</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;rust              ; Fe2O3.unwrap().unwrap().unwrap().unwrap()</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;scala             ; java, but good</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(scheme +guile)   ; a fully conniving family of lisps</span>
</span></span><span style="display:flex;"><span>       sh                <span style="color:#75715e">; she sells {ba,z,fi}sh shells on the C xor</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;sml</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;solidity          ; do you need a blockchain? No.</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;swift             ; who asked for emoji variables?</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;terra             ; Earth and Moon in alignment for performance.</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;web               ; the tubes</span>
</span></span><span style="display:flex;"><span>       yaml              <span style="color:#75715e">; JSON, but readable</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;zig               ; C, but simpler</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:email</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(mu4e +org +gmail)</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;notmuch</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;(wanderlust +gmail)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:app</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;calendar</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;emms</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;everywhere        ; *leave* Emacs!? You must be joking</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;irc               ; how neckbeards socialize</span>
</span></span><span style="display:flex;"><span>       (rss +org)        <span style="color:#75715e">; emacs as an RSS reader</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;twitter           ; twitter client https://twitter.com/vnought</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">:config</span>
</span></span><span style="display:flex;"><span>       <span style="color:#75715e">;;literate</span>
</span></span><span style="display:flex;"><span>       (default +bindings +smartparens))
</span></span></code></pre></div><h3 id="packagesel">packages.el<a hidden class="anchor" aria-hidden="true" href="#packagesel">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#75715e">;; -*- no-byte-compile: t; -*-</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;;; $DOOMDIR/packages.el</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; To install a package with Doom you must declare them here and run &#39;doom sync&#39;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; on the command line, then restart Emacs for the changes to take effect -- or</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; use &#39;M-x doom/reload&#39;.</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; To install SOME-PACKAGE from MELPA, ELPA or emacsmirror:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! some-package)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; To install a package directly from a remote git repo, you must specify a</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; `:recipe&#39;. You&#39;ll find documentation on what `:recipe&#39; accepts here:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; https://github.com/raxod502/straight.el#the-recipe-format</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! another-package</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;  :recipe (:host github :repo &#34;username/repo&#34;))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; If the package you are trying to install does not contain a PACKAGENAME.el</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; file, or is located in a subdirectory of the repo, you&#39;ll need to specify</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; `:files&#39; in the `:recipe&#39;:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! this-package</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;  :recipe (:host github :repo &#34;username/repo&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;           :files (&#34;some-file.el&#34; &#34;src/lisp/*.el&#34;)))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; If you&#39;d like to disable a package included with Doom, you can do so here</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; with the `:disable&#39; property:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! builtin-package :disable t)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; You can override the recipe of a built in package without having to specify</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; all the properties for `:recipe&#39;. These will inherit the rest of its recipe</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; from Doom or MELPA/ELPA/Emacsmirror:</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! builtin-package :recipe (:nonrecursive t))</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! builtin-package-2 :recipe (:repo &#34;myfork/package&#34;))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Specify a `:branch&#39; to install a package from a particular branch or tag.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; This is required for some packages whose default branch isn&#39;t &#39;master&#39; (which</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; our package manager can&#39;t deal with; see raxod502/straight.el#279)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! builtin-package :recipe (:branch &#34;develop&#34;))</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Use `:pin&#39; to specify a particular commit to install.</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(package! builtin-package :pin &#34;1a2b3c4d5e&#34;)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; Doom&#39;s packages are pinned to a specific commit and updated from release to</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; release. The `unpin!&#39; macro allows you to unpin single packages...</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(unpin! pinned-package)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; ...or multiple packages</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(unpin! pinned-package another-pinned-package)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;; ...Or *all* packages (NOT RECOMMENDED; will likely break things)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">;(unpin! t)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(package! racket-mode)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>(package! spacemacs-theme)
</span></span></code></pre></div><h3 id="elfeedorg">elfeed.org<a hidden class="anchor" aria-hidden="true" href="#elfeedorg">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-lisp" data-lang="lisp"><span style="display:flex;"><span><span style="color:#a6e22e">*</span> root <span style="color:#e6db74">:elfeed:</span>
</span></span><span style="display:flex;"><span>** Programming <span style="color:#e6db74">:programming:</span>
</span></span><span style="display:flex;"><span>*** https://www.reddit.com/r/functionalprogramming/.rss <span style="color:#e6db74">:Reddit:</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>** News <span style="color:#e6db74">:news:</span>
</span></span><span style="display:flex;"><span>*** https://news.ycombinator.com/rss <span style="color:#e6db74">:Hack</span> News:
</span></span></code></pre></div>

  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://continuation.cn/tags/emacs/">Emacs</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://continuation.cn/">思泉笔谈 | AI-Life</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
